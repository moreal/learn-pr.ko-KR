이 연습의 목표는 Apache를 실행 중인 기존 Linux 서버를 Azure로 이동하는 것입니다. 이를 위해 먼저 Ubuntu Linux 서버를 만들겠습니다.

## <a name="create-a-new-linux-virtual-machine"></a>새 Linux 가상 머신을 만들기

Azure portal, Azure CLI 또는 Azure PowerShell을 사용 하 여 Linux Vm를 만들 수 있습니다. 가장 쉬운 방법은 Azure를 시작 하는 경우 필요한 정보를 안내 하 고 작성 하는 동안 힌트 및 유용한 메시지를 제공 하므로 포털을 사용 하는 것입니다.

1. [Azure Portal](https://portal.azure.com?azure-portal=true)에 로그인합니다.

1. 클릭 **리소스 만들기** Azure portal의 왼쪽 위 모퉁이에서.

1. 검색 상자에 **Ubuntu Server**를 입력하면 사용 가능한 여러 버전이 표시됩니다. 선택 **Ubuntu Server 18.04 LTS** 제시 된 목록에서.

1. **만들기** 단추를 클릭하여 VM 구성을 시작합니다.

## <a name="configure-the-vm-settings"></a>VM 설정 구성

포털에서 VM 생성 환경은 안내 하는 모든 구성 영역 VM에 대 한 마법사 형식으로 표시 됩니다. 클릭 하 여 **다음** 단추 구성할 수 있는 다음 섹션으로 이동 됩니다. 그러나 각 부분을 식별하는 위쪽에서 실행되는 탭을 사용하여 원하는 대로 섹션 간에 이동할 수 있습니다.

![초기 만들기는 Ubuntu Server 컴퓨터에 대 한 가상 머신 블레이드를 보여 주는 Azure portal의 스크린샷.](../media/3-azure-portal-create-vm.png)

(빨간색 별표를 사용 하 여 식별) 필요한 모든 옵션을 입력 한 후에 마법사 경험의 나머지 부분은 건너뜁니다 고을 통해 VM을 만들기 시작할 수 있습니다 합니다 **검토 + 만들기** 아래쪽 단추입니다.

**기본 사항** 섹션부터 시작하겠습니다.

### <a name="configure-basic-vm-settings"></a>기본 VM 설정 구성

[!include[](../../../includes/azure-sandbox-regions-first-mention-note.md)]

1. VM 시간에 대해 요금이 청구될 **구독**을 선택합니다.

1. 에 대 한 **리소스 그룹**를 선택 **기존 항목 사용** 이름의 리소스 그룹을 선택 하 고  **<rgn>[샌드박스 리소스 그룹 이름]</rgn>** 합니다.

    > [!NOTE]
    > 설정 및 각 필드에서 탭을 변경 하면 Azure에서 각 값을 자동으로 유효성 검사 및 좋은 경우 옆에 녹색 확인 표시를 배치 합니다. 오류 표시기 위를 마우스로 가리키면 검색된 문제에 대한 자세한 정보를 얻을 수 있습니다.

#### <a name="select-a-location"></a>위치 선택

<!-- Resource selection -->
[!include[](../../../includes/azure-sandbox-regions-first-mention-note.md)]

1. 에 **인스턴스 세부 정보** 섹션에서 같은 웹 서버 VM에 대 한 이름을 입력 **테스트 웹-eus vm1**합니다. 환경을 나타냅니다 (**테스트**), 역할 (**web**), 위치 (**미국 동부**), 서비스 (**vm**), 및 인스턴스 번호 (**1**).
    - 용도 신속 하 게 식별할 수 있도록 하려면 리소스 이름에를 표준화 하는 것이 좋습니다. Linux VM 이름은 1-64자여야 하며 숫자, 문자 및 대시로 구성되어야 합니다.

1. 가까운 지역을 선택합니다. 위에 나열 된 사용 가능한 위치에서 하나를 선택 해야 합니다.

1. 둡니다 **가용성 옵션** 으로 **None**합니다. 이 옵션은 사용 하 여 여러 Vm 집합을 다루는 계획 된 또는 계획 되지 않은 유지 관리 이벤트 또는 중단으로 그룹화 하 여 VM을 항상 사용할 수 있습니다.

1. 이미지 설정 되어 있는지 확인 **Ubuntu Server 18.04 LTS**합니다. 드롭다운 목록을 열면 사용 가능한 모든 옵션을 볼 수 있습니다.

1. **크기** 필드는 직접 편집할 수 없습니다 및에 **DS2_v3** 범용 컴퓨팅 선택 항목 중 하나는 기본 크기입니다. 공용 웹 서버의 경우 이 선택 항목을 사용하면 되지만, 다른 VM 크기를 살펴보려면 **크기 변경**을 클릭합니다. 결과 대화 상자에 필터링 할 수에 따라 **Cpu 횟수**, **이름**, 및 **디스크 유형**합니다. 선택한 **DS2_v3** 8GB의 RAM 사용 하 여 두 개의 Vcpu를 제공 하는 선택 합니다.

    > [!TIP]
    > 보기를 왼쪽으로 슬라이드하여 VM 설정(오른쪽의 새 창에서 열려 원래 창이 왼쪽으로 슬라이드됨)을 다시 표시한 다음 확인할 수도 있습니다.

1. **관리자 권한** 섹션에서 **인증 형식**으로 SSH 공개 키 옵션을 선택합니다.

1. SSH에 로그인하는 데 사용할 **사용자 이름**을 입력합니다.

1. 공개 키 파일에서 SSH 키를 복사하여 **SSH 공개 키** 필드에 붙여넣습니다.

> [!IMPORTANT]
> Azure portal에 공개 키를 복사할 때 모든 추가 공백 또는 줄 바꿈 문자를 추가할 필요가 있는지 확인 합니다.

1. 에 **인바운드 포트 규칙** 섹션의 목록을 열고 선택 취소 **공용 인바운드 포트 없음**합니다. 이 VM은 Linux VM이므로 SSH를 사용하여 VM에 원격으로 액세스할 수 있어야 합니다. 찾을 때까지 필요한 경우 목록을 스크롤하여 **SSH (22)** 선택 합니다. UI의 참고 사항에서 알 수 있듯이 VM을 만든 후에도 네트워크 포트를 조정할 수 있습니다.

    ![에 대 한 SSH 액세스를 위해 Linux VM을 열어야 설명 된 대로 인바운드 포트 설정을 확인 하 고 관리자 계정을 보여 주는 Azure portal의 스크린샷](../media/3-open-ports.png)

## <a name="configure-disks-for-the-vm"></a>VM에 대한 디스크 구성

1. 클릭 **다음: 디스크 >** 이동할 합니다 **디스크** 섹션입니다.

    ![가상 머신 블레이드 만들기의 디스크 섹션을 보여 주는 Azure portal의 스크린샷.](../media/3-configure-disks.png)

1. 선택할 **Premium SSD** 에 대 한 합니다 **OS 디스크 유형**합니다.

1. 저장소 계정을 사용하지 않도록 관리 디스크를 사용합니다. 필요하면 GUI에서 스위치를 뒤집어서 Azure에 필요한 정보의 차이를 볼 수 있습니다.

### <a name="create-a-data-disk"></a>데이터 디스크 만들기

OS 디스크 (/ sda)와 임시 디스크 (/ sdb)를 얻게 되며 것을 기억 하십시오. 데이터 디스크도 추가 해 보겠습니다.

1. **데이터 디스크** 섹션에서 **새 디스크 만들기 및 연결** 링크를 클릭합니다.

    ![새 디스크 블레이드 만들기를 보여 주는 Azure portal의 스크린샷.](../media/3-add-data-disk.png)

1. 기본값을 모두 수행할 수 있습니다: Premium SSD, 1023GB 및 **None** (빈 디스크), 있지만 여기는 VHD를 만드는 스냅숏 또는 Azure Blob 저장소 사용 수 있는 합니다.

1. **확인**을 클릭하여 디스크를 만들고 **데이터 디스크** 섹션으로 돌아갑니다.

1. 이제 첫 번째 행에 새 디스크가 있습니다.

    ![VM 만들기 프로세스에 대 한 새로 만든된 데이터 디스크 줄을 보여 주는 Azure portal의 스크린샷.](../media/3-new-disk.png)

## <a name="configure-the-network"></a>네트워크 구성

1. 클릭 **다음: 네트워킹 >** 이동할 합니다 **네트워킹** 섹션입니다.

1. 이미 다른 구성 요소가 있는 프로덕션 시스템에서 _기존_ 가상 네트워크를 활용하려고 합니다. 이런 방식으로 VM 솔루션의 다른 클라우드 서비스를 사용 하 여 통신할 수 있습니다. 이 위치에 정의된 가상 네트워크가 아직 없으면 여기서 만들고 다음 항목을 구성하면 됩니다.
    - **주소 공간**: 전체 IPV4 공간이이 네트워크에 사용할 수 있습니다.
    - **서브넷 범위**: 첫 번째 서브넷 주소 공간-세분화할에 정의 된 주소 공간 이내 여야 합니다. VNet이 만들어지면 추가 서브넷을 추가할 수 있습니다.

> [!NOTE]
> 기본적으로 Azure는 VM에 대한 가상 네트워크, 네트워크 인터페이스 및 공용 IP를 만듭니다. VM이 만들어지면 네트워킹 옵션을 변경, 따라서 항상 네트워크 할당은 Azure에서 만든 서비스에 다시 확인 하기란 쉽지 않습니다.

## <a name="finish-configuring-the-vm-and-create-the-image"></a>VM 구성 완료 및 이미지 만들기

나머지 옵션에는 적절한 기본값이 있으므로 변경할 필요가 없습니다. 원하는 경우 다른 탭을 탐색할 수 있습니다. 개별 옵션을 사용할 수는 `(i)` 옆에 있는 옵션을 설명 하는 도움말 팁 표시 되는 아이콘입니다. 이것이 좋은 VM을 구성 하 여 다양 한 옵션을 알아보는 방법입니다.

1. 패널 아래쪽에서 **검토 + 만들기** 단추를 클릭합니다.

1. 시스템에서 옵션의 유효성이 검사되고 생성되는 VM에 대한 세부 정보가 제공됩니다.

1. **만들기**를 클릭하여 VM을 만들고 배포합니다. Azure 대시보드에 배포 중인 VM이 표시됩니다. 이 작업은 몇 분 정도 걸릴 수 있습니다.

배포되는 동안 이 VM으로 수행할 수 있는 작업을 살펴보겠습니다.