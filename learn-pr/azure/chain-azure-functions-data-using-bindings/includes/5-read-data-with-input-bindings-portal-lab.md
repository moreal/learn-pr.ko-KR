<span data-ttu-id="db299-101">간단한 책갈피 조회 서비스를 만들려고 한다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-101">Imagine we want to create a simple bookmark lookup service.</span></span> <span data-ttu-id="db299-102">서비스는 기본적으로 읽기 전용입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-102">Our service is readonly initially.</span></span> <span data-ttu-id="db299-103">사용자가 항목을 찾으려는 경우 항목의 ID를 통해 요청을 보내고 URL을 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-103">If a user wants to find an entry, they send a request with the ID of the entry and we return the URL.</span></span> <span data-ttu-id="db299-104">다음 다이어그램은 이 흐름을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-104">The following diagram explains the flow.</span></span>

![Cosmos DB 백 엔드에서 책갈피를 찾는 프로세스를 보여 주는 흐름 다이어그램](../media-draft/find-bookmark-flow-small.png)

<span data-ttu-id="db299-106">사용자가 어떤 텍스트를 통해 요청을 보내면 백 엔드 데이터베이스에서 이 텍스트가 키나 ID로 포함된 항목을 찾습니다. 항목을 찾았는지 여부를 표시하는 결과를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-106">When a user sends us a request with some text, we try to find an entry in our back-end database that contains this text as a key or Id. We return a result that indicates whether we found the entry or not.</span></span>

<span data-ttu-id="db299-107">특정 위치에 데이터를 저장해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-107">We need to store data somewhere.</span></span> <span data-ttu-id="db299-108">이 순서도에서 데이터 저장소는 Azure Cosmos DB로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="db299-108">In this flowchart, our data store is shown as an Azure Cosmos DB.</span></span> <span data-ttu-id="db299-109">하지만 어떻게 함수에서 해당 데이터베이스에 연결하고 데이터를 읽을까요?</span><span class="sxs-lookup"><span data-stu-id="db299-109">But, how do we connect to that database from a function and read data?</span></span> <span data-ttu-id="db299-110">함수 부분에서는 이 작업을 위해 *입력 바인딩*을 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-110">In the world of functions, we configure an *input binding* for that job.</span></span>  <span data-ttu-id="db299-111">Azure Portal을 통해 간단하게 바인딩을 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-111">Configuring a binding through the Azure Portal is straightforward.</span></span> <span data-ttu-id="db299-112">앞으로 살펴보겠지만 저장소 연결 열기 같은 작업에 코드를 작성할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-112">As we'll see shortly, You don't have to write code for tasks such as opening a storage connection.</span></span> <span data-ttu-id="db299-113">Azure Functions 런타임 및 바인딩이 이러한 작업을 대신하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="db299-113">The Azure Functions runtime and binding take care of those tasks for you.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="db299-114">여기서 만드는 일부 리소스(데이터베이스, 함수, 바인딩, 코드)를 다음 실습에서 참조하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="db299-114">We're going to refer to some resources (database, function, bindings, code) that we create here in our next lab.</span></span> <span data-ttu-id="db299-115">이 코스를 마칠 때까지는 이 리소스를 보관합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-115">Please keep these resources around at least until you finish this course.</span></span>

<span data-ttu-id="db299-116">이전 모듈과 마찬가지로 Azure Portal에서 모든 작업을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-116">As was the case for the preceding module, we'll do everything in the Azure portal.</span></span>

## <a name="create-an-azure-cosmos-db"></a><span data-ttu-id="db299-117">Azure Cosmos DB 만들기</span><span class="sxs-lookup"><span data-stu-id="db299-117">Create an Azure Cosmos DB</span></span> 

<span data-ttu-id="db299-118">Azure 계정을 사용하여 [https://portal.azure.com](https://portal.azure.com?azure-portal=true)에서 Azure Portal에 로그인합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-118">Sign in to the Azure portal at [https://portal.azure.com](https://portal.azure.com?azure-portal=true) with your Azure account.</span></span>

### <a name="create-a-database-account"></a><span data-ttu-id="db299-119">데이터베이스 계정 만들기</span><span class="sxs-lookup"><span data-stu-id="db299-119">Create a database account</span></span>

<span data-ttu-id="db299-120">데이터베이스 계정은 많은 데이터베이스 중 하나를 관리하기 위한 컨테이너입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-120">A database account is a container for managing one of more databases.</span></span> <span data-ttu-id="db299-121">데이터베이스를 만들려면 먼저 데이터베이스 계정을 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-121">Before we can create a database, we need to create a database account.</span></span>

1. <span data-ttu-id="db299-122">Azure Portal의 왼쪽 위 모서리에서 **리소스 만들기** 단추를 선택한 다음, **데이터베이스** > **Azure Cosmos DB**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-122">Select the **Create a resource** button found on the upper left-hand corner of the Azure portal, then select **Databases** > **Azure Cosmos DB**.</span></span>

2. <span data-ttu-id="db299-123">**새 계정** 페이지에서 새 Azure Cosmos DB 계정에 대한 설정을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-123">In the **New account** page, enter the settings for the new Azure Cosmos DB account.</span></span>
 
    <span data-ttu-id="db299-124">설정</span><span class="sxs-lookup"><span data-stu-id="db299-124">Setting</span></span>|<span data-ttu-id="db299-125">값</span><span class="sxs-lookup"><span data-stu-id="db299-125">Value</span></span>|<span data-ttu-id="db299-126">설명</span><span class="sxs-lookup"><span data-stu-id="db299-126">Description</span></span>
    ---|---|---
    <span data-ttu-id="db299-127">ID</span><span class="sxs-lookup"><span data-stu-id="db299-127">ID</span></span>|<span data-ttu-id="db299-128">*고유한 이름 입력*</span><span class="sxs-lookup"><span data-stu-id="db299-128">*Enter a unique name*</span></span>|<span data-ttu-id="db299-129">이 Azure Cosmos DB 계정을 식별하는 고유한 이름을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-129">Enter a unique name to identify this Azure Cosmos DB account.</span></span> <span data-ttu-id="db299-130">URI를 만들기 위해 제공하는 ID에 *documents.azure.com*이 추가되므로 식별할 수 있는 고유한 ID를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-130">Because *documents.azure.com* is appended to the ID that you provide to create your URI, use a unique but identifiable ID.</span></span><br><br><span data-ttu-id="db299-131">ID는 소문자, 숫자 및 하이픈(-) 문자만 포함할 수 있으며, 3-50자를 포함해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-131">The ID can contain only lowercase letters, numbers, and the hyphen (-) character, and it must contain 3 to 50 characters.</span></span>
    <span data-ttu-id="db299-132">API</span><span class="sxs-lookup"><span data-stu-id="db299-132">API</span></span>|<span data-ttu-id="db299-133">SQL</span><span class="sxs-lookup"><span data-stu-id="db299-133">SQL</span></span>|<span data-ttu-id="db299-134">API가 만들 계정 형식을 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-134">The API determines the type of account to create.</span></span> <span data-ttu-id="db299-135">Azure Cosmos DB는 응용 프로그램의 요구 사항을 충족하기 위해 SQL(문서 데이터베이스), Gremlin(그래프 데이터베이스), MongoDB(문서 데이터베이스), Azure Table 및 Cassandra라는 다섯 가지 API를 제공합니다. 현재 각각에는 별도의 계정이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-135">Azure Cosmos DB provides five APIs to suit the needs of your application: SQL (document database), Gremlin (graph database), MongoDB (document database), Azure Table, and Cassandra, each which currently require a separate account.</span></span> <br><br><span data-ttu-id="db299-136">**SQL**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-136">Select **SQL**.</span></span> <span data-ttu-id="db299-137">이때 Azure Cosmos DB 트리거, 입력 바인딩 및 출력 바인딩은 SQL API 및 Graph API 계정에서만 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-137">At this time, the Azure Cosmos DB trigger, input bindings, and output bindings only work with SQL API and Graph API accounts.</span></span> 
    <span data-ttu-id="db299-138">구독</span><span class="sxs-lookup"><span data-stu-id="db299-138">Subscription</span></span>|<span data-ttu-id="db299-139">*사용자의 구독*</span><span class="sxs-lookup"><span data-stu-id="db299-139">*Your subscription*</span></span>|<span data-ttu-id="db299-140">이 Azure Cosmos DB 계정에 사용할 Azure 구독을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-140">Select Azure subscription that you want to use for this Azure Cosmos DB account.</span></span>
    <span data-ttu-id="db299-141">리소스 그룹</span><span class="sxs-lookup"><span data-stu-id="db299-141">Resource Group</span></span>|<span data-ttu-id="db299-142">기존 항목 사용</span><span class="sxs-lookup"><span data-stu-id="db299-142">Use existing</span></span><br><br><span data-ttu-id="db299-143">*이 경우 이 모듈의 리소스에 대해 이전 단위에서 만든 리소스 그룹인 [!INCLUDE [resource-group-name](./rg-name.md)]를 입력합니다.*</span><span class="sxs-lookup"><span data-stu-id="db299-143">*Then enter [!INCLUDE [resource-group-name](./rg-name.md)], the resource group we created in an earlier unit for this module's resources.*</span></span>| <span data-ttu-id="db299-144">이 모듈에 대해 만든 모든 리소스를 같은 리소스 그룹에 묶으려 하므로 **기존 항목 사용**을 선택하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-144">We're selecting **Use existing**, because we want to group all resources created for this module under the same resource group.</span></span>
    <span data-ttu-id="db299-145">위치</span><span class="sxs-lookup"><span data-stu-id="db299-145">Location</span></span>|<span data-ttu-id="db299-146">**기존 항목 사용**을 설정한 후에 자동으로 채워집니다.</span><span class="sxs-lookup"><span data-stu-id="db299-146">Auto-filled once **Use existing** is set.</span></span> | <span data-ttu-id="db299-147">Azure Cosmos DB 계정을 호스트할 지리적 위치를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-147">Select the geographic location in which to host your Azure Cosmos DB account.</span></span> <span data-ttu-id="db299-148">데이터에 가장 빨리 액세스할 수 있도록 사용자와 가장 가까운 위치를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-148">Use the location that's closest to your users to give them the fastest access to the data.</span></span> <span data-ttu-id="db299-149">이 실습에서는 위치가 기존 리소스 그룹에 대한 위치 설정으로 미리 결정되었습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-149">In this lab,  the location is pre-determined for us as the location set for the existing resource group.</span></span>
    
<span data-ttu-id="db299-150">**새 계정** 블레이드의 모든 다른 필드는 이 모듈에서 사용하므로 기본값 상태로 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-150">Leave all other fields in the **New account** blade at their default values because we're using them in this module.</span></span>  <span data-ttu-id="db299-151">여기에는 **지리적 중복 사용**, **다중 마스터 사용**, **가상 네트워크**가 해당합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-151">That includes **Enable geo-redundancy**, **Enable Multi Master**, **Virtual networks**.</span></span>

3. <span data-ttu-id="db299-152">**만들기**를 선택하여 데이터베이스 계정을 프로비전하고 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-152">Select **Create** to provision and deploy the database account.</span></span>

4. <span data-ttu-id="db299-153">배포에 다소 시간이 걸릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-153">Deployment can take some time.</span></span> <span data-ttu-id="db299-154">따라서 진행하기 전에 다음 메시지와 유사한 **배포 성공** 메시지를 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="db299-154">So, wait for a **Deployment succeeded** message similar to the following message before proceeding.</span></span>

<!-- TODO figure out how to center these image -->

![데이터베이스 계정 배포가 완료되었다는 알림](../media-draft/db-deploy-success.PNG)

5. <span data-ttu-id="db299-156">축하합니다!</span><span class="sxs-lookup"><span data-stu-id="db299-156">Congratulations!</span></span> <span data-ttu-id="db299-157">데이터베이스 계정을 만들고 배포했습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-157">You've created and deployed your database account!</span></span>

6. <span data-ttu-id="db299-158">**리소스로 이동**을 선택하여 포털에서 데이터베이스 계정으로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-158">Select **Go to resource** to navigate to the database account in the portal.</span></span> <span data-ttu-id="db299-159">그런 다음, 컬렉션을 데이터베이스에 추가하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-159">We'll add a collection to the database next.</span></span>

### <a name="add-a-collection"></a><span data-ttu-id="db299-160">컬렉션 추가</span><span class="sxs-lookup"><span data-stu-id="db299-160">Add a collection</span></span>

<span data-ttu-id="db299-161">Cosmos DB에서는 *컨테이너*가 임의의 사용자가 생성한 엔터티를 보유합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-161">In Cosmos DB, a *container* holds arbitrary user-generated entities.</span></span> <span data-ttu-id="db299-162">문서 지향 API인 SQL API를 지원하는 데이터베이스에서 컨테이너는 *컬렉션*합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-162">In a database the supports SQL API, a document-oriented API, a container is a *collection*.</span></span> <span data-ttu-id="db299-163">컬렉션 안에 문서를 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-163">Inside a collection, we store documents.</span></span> <span data-ttu-id="db299-164">컬렉션을 만들고 일부 문서를 추가하고 나면 더 확실하게 알 수 있을 것입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-164">Hopefully all will be clearer once we create a collection and add some documents.</span></span>

<span data-ttu-id="db299-165">이제 Azure Portal에서 데이터 탐색기 도구를 사용하여 데이터베이스 및 컬렉션을 만들어 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-165">Let's use the Data Explorer tool in the Azure portal to create a database and collection.</span></span>

1. <span data-ttu-id="db299-166">**데이터 탐색기** > **새 컬렉션**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-166">Click **Data Explorer** > **New Collection**.</span></span>

2. <span data-ttu-id="db299-167">**컬렉션 추가**에서 새 컬렉션에 대한 설정을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-167">In the **Add collection**, enter the settings for the new collection.</span></span>

    >[!TIP]
    ><span data-ttu-id="db299-168">**컬렉션 추가** 영역이 맨 오른쪽에 표시되면 확인하기 위해 오른쪽으로 스크롤해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-168">The **Add Collection** area is displayed on the far right, you may need to scroll right to see it.</span></span>

    <span data-ttu-id="db299-169">설정</span><span class="sxs-lookup"><span data-stu-id="db299-169">Setting</span></span>|<span data-ttu-id="db299-170">제안 값</span><span class="sxs-lookup"><span data-stu-id="db299-170">Suggested value</span></span>|<span data-ttu-id="db299-171">설명</span><span class="sxs-lookup"><span data-stu-id="db299-171">Description</span></span>
    ---|---|---
    <span data-ttu-id="db299-172">데이터베이스 ID</span><span class="sxs-lookup"><span data-stu-id="db299-172">Database ID</span></span>|[!INCLUDE [cosmos-db-name](./cosmos-db-name.md)]| <span data-ttu-id="db299-173">데이터베이스 이름은 1-255자여야 하며, /, \\, #,? 또는 후행 공백은 포함할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-173">Database names must contain from 1 through 255 characters, and they cannot contain /, \\, #, ?, or a trailing space.</span></span><br><br><span data-ttu-id="db299-174">여기에 원하는 대로 입력할 수 있으나 새 데이터베이스 이름은 [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)]를 추천합니다. 이것을 이 단위에서 참조할 것입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-174">You are free to enter whatever you want here, but we suggest [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] as the name for the new database, and that's what we'll refer to in this unit.</span></span> |
    <span data-ttu-id="db299-175">컬렉션 ID</span><span class="sxs-lookup"><span data-stu-id="db299-175">Collection ID</span></span>|[!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)]|<span data-ttu-id="db299-176">새 컬렉션의 이름으로 [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)]를 입력입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-176">Enter [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] as the name for our new collection.</span></span> <span data-ttu-id="db299-177">컬렉션 ID에는 데이터베이스 이름과 동일한 문자 요구 사항이 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="db299-177">Collection IDs have the same character requirements as database names.</span></span>
    <span data-ttu-id="db299-178">Storage 용량</span><span class="sxs-lookup"><span data-stu-id="db299-178">Storage capacity</span></span>| <span data-ttu-id="db299-179">고정(10GB)</span><span class="sxs-lookup"><span data-stu-id="db299-179">Fixed (10 GB)</span></span>|<span data-ttu-id="db299-180">기본값인 **고정(10GB)** 을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-180">Use the default value of **Fixed (10 GB)**.</span></span> <span data-ttu-id="db299-181">이 값은 데이터베이스의 저장소 용량입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-181">This value is the storage capacity of the database.</span></span>
    <span data-ttu-id="db299-182">처리량</span><span class="sxs-lookup"><span data-stu-id="db299-182">Throughput</span></span>|<span data-ttu-id="db299-183">400RU</span><span class="sxs-lookup"><span data-stu-id="db299-183">400 RU</span></span>|<span data-ttu-id="db299-184">처리량을 400RU/s(초당 요청 단위)로 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-184">Change the throughput to 400 request units per second (RU/s).</span></span> <span data-ttu-id="db299-185">처리량을 400RU/s로 설정하려면 저장소 용량을 **고정(10GB)** 으로 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-185">Storage capacity must be set to **Fixed (10 GB)** in order to set throughput to 400 RU/s.</span></span> <span data-ttu-id="db299-186">대기 시간을 줄이면 나중에 처리량을 늘릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-186">If you want to reduce latency, you can scale up the throughput later.</span></span>
    
3. <span data-ttu-id="db299-187">**확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-187">Click **OK**.</span></span> <span data-ttu-id="db299-188">데이터 탐색기는 새 데이터베이스 및 컬렉션을 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-188">The Data Explorer displays the new database and collection.</span></span> <span data-ttu-id="db299-189">이제 데이터베이스가 생겼습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-189">So, now we have a database.</span></span> <span data-ttu-id="db299-190">데이터베이스 내부에 컬렉션을 정의 했습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-190">Inside the database, we've defined a collection.</span></span> <span data-ttu-id="db299-191">이제 문서라고도 하는 일부 데이터를 추가해 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-191">Next we'll add some data, also known as documents.</span></span>

### <a name="add-test-data"></a><span data-ttu-id="db299-192">테스트 데이터 추가</span><span class="sxs-lookup"><span data-stu-id="db299-192">Add test data</span></span>

<span data-ttu-id="db299-193">[!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)]라는 데이터베이스에서 컬렉션을 정의했으므로 컬렉션에 저장하려는 것은 무엇일까요?</span><span class="sxs-lookup"><span data-stu-id="db299-193">We've defined a collection in our database called [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)], so what are we intending to store in the collection?</span></span> <span data-ttu-id="db299-194">웹 페이지 책갈피 목록처럼 각 문서에 URL과 ID를 저장하고자 합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-194">Well, the idea is to store a URL and ID in each document, like a list of web page bookmarks.</span></span> 

<span data-ttu-id="db299-195">데이터 탐색기를 사용하여 새 컬렉션에 데이터를 추가할 것입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-195">We'll add data to our new collection using Data Explorer.</span></span>

1. <span data-ttu-id="db299-196">데이터 탐색기에서 새 데이터베이스가 컬렉션 창에 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="db299-196">In Data Explorer, the new database appears in the Collections pane.</span></span> <span data-ttu-id="db299-197">[!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] 데이터베이스를 확장하고 [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] 컬렉션을 확장하고 **문서**를 클릭한 후 **새 문서**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-197">Expand the [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] database, expand the [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] collection, click **Documents**, and then click **New Document**.</span></span>
  
2. <span data-ttu-id="db299-198">이제 다음과 같은 구조를 사용하여 컬렉션에 문서를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-198">Now add a document to the collection with the following structure.</span></span> <span data-ttu-id="db299-199">각 문서는 스키마 없는 JSON 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-199">Each document is schema-less JSON file.</span></span>

     ```json
     {
         "id": "docs",
         "URL": "https://docs.microsoft.com/azure"
     }
     ```

3. <span data-ttu-id="db299-200">**문서** 탭에 JSON을 추가했으면 **저장**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-200">Once you've added the json to the **Documents** tab, click **Save**.</span></span>

<span data-ttu-id="db299-201">문서를 저장할 때 추가한 것보다 더 많은 속성이 있는 것을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-201">When the document is saved, notice that there are more properties than the ones we added.</span></span> <span data-ttu-id="db299-202">이들은 모두 밑줄(_rid, _self, _etag, _attachments, _ts)로 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-202">They all begin with an underline (_rid, _self, _etag, _attachments, _ts).</span></span> <span data-ttu-id="db299-203">이러한 속성은 시스템이 문서 관리를 지원하기 위해 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-203">These are properties generated by the system to help manage the document.</span></span> <span data-ttu-id="db299-204">다음 표에서 이에 대해 간략히 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-204">The following table explains briefly what they are.</span></span>


|<span data-ttu-id="db299-205">속성</span><span class="sxs-lookup"><span data-stu-id="db299-205">Property</span></span>  |<span data-ttu-id="db299-206">설명</span><span class="sxs-lookup"><span data-stu-id="db299-206">Description</span></span>  |
|---------|---------|
|<span data-ttu-id="db299-207">_rid</span><span class="sxs-lookup"><span data-stu-id="db299-207">_rid</span></span>     |     <span data-ttu-id="db299-208">리소스 ID(_rid)는 고유 식별자로, 역시 리소스 모델에서 리소스 스택에 따라 계층적입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-208">The resource ID (_rid) is a unique identifier that is also hierarchical per the resource stack on the resource model.</span></span> <span data-ttu-id="db299-209">문서 리소스의 배치와 탐색을 위해 내부적으로 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="db299-209">It is used internally for placement and navigation of the document resource.</span></span>    |
|<span data-ttu-id="db299-210">_self</span><span class="sxs-lookup"><span data-stu-id="db299-210">_self</span></span>     |   <span data-ttu-id="db299-211">리소스에 대한 고유의 주소 지정 가능 URI입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-211">The unique addressable URI for the resource.</span></span>      |
|<span data-ttu-id="db299-212">_etag</span><span class="sxs-lookup"><span data-stu-id="db299-212">_etag</span></span>     |   <span data-ttu-id="db299-213">낙관적 동시성 제어에 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-213">Required for optimistic concurrency control.</span></span>     |
|<span data-ttu-id="db299-214">_attachments</span><span class="sxs-lookup"><span data-stu-id="db299-214">_attachments</span></span>     |  <span data-ttu-id="db299-215">첨부 파일 리소스에 대한 주소 지정 가능 경로입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-215">The addressable path for the attachments resource.</span></span>       |
|<span data-ttu-id="db299-216">_ts</span><span class="sxs-lookup"><span data-stu-id="db299-216">_ts</span></span>     |    <span data-ttu-id="db299-217">이 리소스의 마지막 업데이트 타임 스탬프입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-217">The timestamp of the last update of this resource.</span></span>    |
 

4. <span data-ttu-id="db299-218">이 컬렉션에 몇 가지 문서를 더 추가해 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-218">Let's add a few more documents into our collection.</span></span> <span data-ttu-id="db299-219">다음 각각에 대해 **New Document** 명령을 다시 사용하여 각각에 대한 항목을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="db299-219">For each of the following, use the **New Document** command again to create an entry for each.</span></span> <span data-ttu-id="db299-220">주소 캡처를 위해 ##Save\*\*를 반드시 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-220">Don't forget to click ##Save\*\* to capture your additions.</span></span>

|<span data-ttu-id="db299-221">id</span><span class="sxs-lookup"><span data-stu-id="db299-221">id</span></span>  |<span data-ttu-id="db299-222">값</span><span class="sxs-lookup"><span data-stu-id="db299-222">value</span></span>  |
|---------|---------|
|<span data-ttu-id="db299-223">포털</span><span class="sxs-lookup"><span data-stu-id="db299-223">portal</span></span>     |  https://portal.azure.com       |
|<span data-ttu-id="db299-224">학습
</span><span class="sxs-lookup"><span data-stu-id="db299-224">learn</span></span>     |   https://docs.microsoft.com/learn |
|<span data-ttu-id="db299-225">Marketplace</span><span class="sxs-lookup"><span data-stu-id="db299-225">marketplace</span></span>     |    https://azuremarketplace.microsoft.com/marketplace/apps  |
|<span data-ttu-id="db299-226">블로그 </span><span class="sxs-lookup"><span data-stu-id="db299-226">blog</span></span> | https://azure.microsoft.com/blog |

<span data-ttu-id="db299-227">완료한 후 컬렉션이 다음 스크린샷과 유사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-227">When you've finished, your collection should look like the following screenshot.</span></span>

![책갈피 컬렉션에 추가된 항목의 목록을 표시하는 포털의 SQL API UI 스크린샷](../media-draft/db-bookmark-coll.PNG)

<span data-ttu-id="db299-229">이제 책갈피 컬렉션에 몇 개 항목이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-229">We now have a few entries in our bookmark collection.</span></span> <span data-ttu-id="db299-230">이 시나리오는 다음과 같이 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-230">Our scenario will work as follows.</span></span> <span data-ttu-id="db299-231">예를 들어"id=docs" 등과 함께 요청이 도착하면 책갈피 컬렉션에서 해당 ID를 조회하고 https://docs.microsoft.com/azure URL을 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-231">If a request arrives with, for example, "id=docs", we'll look up that ID in our bookmarks collection and return the URL https://docs.microsoft.com/azure.</span></span> <span data-ttu-id="db299-232">이 컬렉션의 값을 조회하는 Azure 함수를 만들어 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-232">Let's make an Azure function that looks up values in this collection.</span></span>

## <a name="create-our-function"></a><span data-ttu-id="db299-233">함수 만들기</span><span class="sxs-lookup"><span data-stu-id="db299-233">Create our function</span></span>

1. <span data-ttu-id="db299-234">앞의 단위에서 만든 함수 앱으로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-234">Navigate to the function app you created in the preceding unit.</span></span>

2. <span data-ttu-id="db299-235">함수 앱을 펼친 다음, 함수 컬렉션 위를 마우스로 가리키고, **함수** 옆에 있는 추가(**+**) 단추를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-235">Expand your function app, then hover over the functions collection and select the Add (**+**) button next to **Functions**.</span></span> <span data-ttu-id="db299-236">이 작업은 함수 만들기 프로세스를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-236">This action starts the function creation process.</span></span> <span data-ttu-id="db299-237">다음 애니메이션에서는 이 작업을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="db299-237">The following animation illustrates this action.</span></span>

![사용자가 함수 메뉴 항목을 마우스로 가리키면 표시되는 더하기 기호의 애니메이션](../media-draft/func-app-plus-hover-small.gif)

3. <span data-ttu-id="db299-239">이 페이지에는 지원되는 트리거의 전체 집합을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="db299-239">The page shows us the complete set of supported triggers.</span></span> <span data-ttu-id="db299-240">다음 스크린샷의 첫 번째 항목인 **HTTP 트리거**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-240">Select **HTTP trigger**, which is the first entry in the following screenshot.</span></span>

![이미지의 왼쪽 위에 HTTP 트리거가 먼저 표시된 트리거 템플릿 선택 UI 일부의 스크린샷](../media-draft/trigger-templates-small.PNG)

4. <span data-ttu-id="db299-242">다음 값을 사용하여 오른쪽에 나타나는 **새 함수** 대화 상자를 작성합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-242">Fill out the **New Function** dialog that appears to the right  using the following values.</span></span>

|<span data-ttu-id="db299-243">필드</span><span class="sxs-lookup"><span data-stu-id="db299-243">Field</span></span>  |<span data-ttu-id="db299-244">값</span><span class="sxs-lookup"><span data-stu-id="db299-244">Value</span></span>  |
|---------|---------|
|<span data-ttu-id="db299-245">언어</span><span class="sxs-lookup"><span data-stu-id="db299-245">Language</span></span>     | <span data-ttu-id="db299-246">**JavaScript**</span><span class="sxs-lookup"><span data-stu-id="db299-246">**JavaScript**</span></span>        |
|<span data-ttu-id="db299-247">이름</span><span class="sxs-lookup"><span data-stu-id="db299-247">Name</span></span>     |   [!INCLUDE [func-name-find](./func-name-find.md)]     |
| <span data-ttu-id="db299-248">권한 부여 수준</span><span class="sxs-lookup"><span data-stu-id="db299-248">Authorization level</span></span> | <span data-ttu-id="db299-249">**함수**</span><span class="sxs-lookup"><span data-stu-id="db299-249">**Function**</span></span> |

5. <span data-ttu-id="db299-250">**만들기**를 선택하여 코드 편집기에서 index.js 파일을 열고 HTTP 트리거 함수의 기본 구현을 표시하는 함수를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="db299-250">Select **Create** to create our function, which opens the index.js file in the code editor and displays a default implementation of the HTTP-triggered function.</span></span>

<span data-ttu-id="db299-251">다음과 같이 새 함수를 테스트하여 지금까지 수행한 것을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-251">You can verify what we have done so far by testing our new function as follows:</span></span>

1. <span data-ttu-id="db299-252">새 함수에서 오른쪽 맨 위에 있는 **</> 함수 URL 가져오기**를 클릭하고 **기본값(함수 키)** 를 선택한 후 **복사**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-252">In your new function, click **</> Get function URL** at the top right, select **default (Function key)**, and then click **Copy**.</span></span>

2. <span data-ttu-id="db299-253">복사한 함수 URL을 브라우저의 주소 표시줄에 붙여넣습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-253">Paste the function URL you copied into your browser's address bar.</span></span> <span data-ttu-id="db299-254">이 URL의 끝에 `&name=<yourname>` 쿼리 문자열 값을 추가하고, 키보드에서 `Enter` 키를 눌러 요청을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-254">Add the query string value `&name=<yourname>` to the end of this URL and press the `Enter` key on your keyboard to execute the request.</span></span> <span data-ttu-id="db299-255">브라우저에 표시된 함수가 반환한 다음 응답과 유사한 응답이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="db299-255">You should see a response similar to the following response returned by the function displayed in your browser.</span></span>  

<span data-ttu-id="db299-256">이제 핵심 함수가 작동하므로 Azure Cosmos DB에서, 또는 이 시나리오에서는 [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] 컬렉션으로부터 데이터 읽기를 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-256">Now that we have our bare-bones function working, let's turn our attention to reading data from our Azure Cosmos DB, or in our scenario, our [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] collection.</span></span>

## <a name="add-a-cosmos-db-input-binding"></a><span data-ttu-id="db299-257">Cosmos DB 입력 바인딩 추가</span><span class="sxs-lookup"><span data-stu-id="db299-257">Add a Cosmos DB input binding</span></span>

<span data-ttu-id="db299-258">만든 데이터베이스에서 데이터를 읽으려 하므로 입력 바인딩을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-258">We want to read data from the database we created, so enter input bindings.</span></span> <span data-ttu-id="db299-259">이제 살펴볼 것처럼 간단히 몇 단계만으로 데이터베이스와 통신하는 바인딩을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-259">As you'll see, we can configure a binding that can talk to our database in just a few steps.</span></span>

1. <span data-ttu-id="db299-260">왼쪽의 함수 메뉴에서 **통합**을 선택하여 [통합] 탭을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="db299-260">Select **Integrate** in the function menu on the left to open the integration tab.</span></span>

<span data-ttu-id="db299-261">HTTP 트리거와 HTTP 출력 바인딩을 만드는 데 사용한 템플릿입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-261">The template we used created an HTTP trigger and an HTTP output binding for us.</span></span> <span data-ttu-id="db299-262">새 Azure Cosmos DB 입력 바인딩을 추가해 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-262">Let's add our new Azure Cosmos DB input binding.</span></span> 

2. <span data-ttu-id="db299-263">**입력** 열에서 **+ 새 입력**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-263">Select **+ New Input** under the **Inputs** column.</span></span> <span data-ttu-id="db299-264">가능한 모든 입력 바인딩 형식 목록이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="db299-264">A list of all possible input binding types is displayed.</span></span>

3. <span data-ttu-id="db299-265">목록에서 **Azure Cosmos DB**를 클릭한 다음, **선택** 단추를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-265">Click on **Azure Cosmos DB** from the list and then the **Select** button.</span></span> <span data-ttu-id="db299-266">그러면 Azure Cosmos DB 입력 구성 페이지가 열립니다.</span><span class="sxs-lookup"><span data-stu-id="db299-266">This action opens the Azure Cosmos DB input configuration page.</span></span>

<span data-ttu-id="db299-267">다음으로, 데이터베이스에 연결을 설정하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-267">Next, we'll set up a connection to our database.</span></span>

4. <span data-ttu-id="db299-268">이 페이지에서 이름이 **Azure Cosmos DB 계정 연결**인 필드에서 빈 필드 오른쪽의 *새로 만들기*를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-268">In the field named **Azure Cosmos DB account connection** on this page, click on *new* to the right of the empty field.</span></span> <span data-ttu-id="db299-269">그러면 **연결** 대화 상자가 열리는 데 이미 **Azure Cosmos DB 계정**과 Azure 구독이 선택되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-269">This action opens the **Connection** dialog, which already has **Azure Cosmos DB account** and your Azure subscription selected.</span></span> <span data-ttu-id="db299-270">여기서는 데이터베이스 계정 ID를 선택하기만 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="db299-270">The only thing left to do is to select a database account id.</span></span>

5. <span data-ttu-id="db299-271">**데이터베이스 계정 만들기** 섹션에서 ID 값을 제공했어야 했습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-271">In the section, **Create a database account**, you had to supply an ID value.</span></span> <span data-ttu-id="db299-272">이제는 *데이터베이스 계정* 드롭다운의 값을 찾은 다음, **선택**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-272">Now find that value in the  *Database Account* dropdown and then click **Select**.</span></span>

<span data-ttu-id="db299-273">데이터베이스에 대한 새 연결이 구성되고 **Azure Cosmos DB 계정 연결** 필드에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="db299-273">A new connection to the database is configured and is shown in the **Azure Cosmos DB account connection** field.</span></span> <span data-ttu-id="db299-274">실제로 이 추상 이름 뒤에 무엇이 있는지 궁금하면 *값 표시*를 클릭하여 연결 문자열을 확인하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="db299-274">If you're curious about what is actually behind this abstract name, just click *show value* to reveal the connection string.</span></span>

<span data-ttu-id="db299-275">특정 ID로 책갈피를 조회하려 하므로 받은 ID를 바인딩에 연결하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-275">We want to look up a bookmark with a specific ID, so let's tie the ID we receive to the binding.</span></span>

7. <span data-ttu-id="db299-276">**문서 ID(선택 사항)** 필드에 `{id}`를 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-276">In the **Document ID (optional)** field, enter `{id}`.</span></span> <span data-ttu-id="db299-277">이것을 *바인딩 식*이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-277">This is known as a *binding expression*.</span></span> <span data-ttu-id="db299-278">함수는 조회할 ID를 지정하기 위해 쿼리 문자열을 사용하는 HTTP 요청에 의해 트리거됩니다.</span><span class="sxs-lookup"><span data-stu-id="db299-278">The function is triggered by an HTTP request that uses a query string to specify the ID to look up.</span></span> <span data-ttu-id="db299-279">ID는 컬렉션에서 고유하므로 바인딩은 0(없음) 또는 1(있음) 문서를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-279">Since IDs are unique in our collection, the binding will return either 0 (not found) or 1 (found) documents.</span></span>

8. <span data-ttu-id="db299-280">다음 표의 값을 사용하여 이 페이지의 나머지 필드를 조심스럽게 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-280">Carefully fill out the remaining fields on this page using the values in the following table.</span></span> <span data-ttu-id="db299-281">언제든 각 필드 이름 오른쪽의 정보 아이콘을 클릭하여 각 필드의 용도를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-281">At any time, you can click on the information icon to the right of each field name to learn more about the purpose of each field.</span></span>


|<span data-ttu-id="db299-282">설정</span><span class="sxs-lookup"><span data-stu-id="db299-282">Setting</span></span>  |<span data-ttu-id="db299-283">값</span><span class="sxs-lookup"><span data-stu-id="db299-283">Value</span></span>  |<span data-ttu-id="db299-284">설명</span><span class="sxs-lookup"><span data-stu-id="db299-284">Description</span></span>  |
|---------|---------|---------|
|<span data-ttu-id="db299-285">문서 매개 변수 이름</span><span class="sxs-lookup"><span data-stu-id="db299-285">Document parameter name</span></span>     |  <span data-ttu-id="db299-286">**책갈피**</span><span class="sxs-lookup"><span data-stu-id="db299-286">**bookmark**</span></span>       |  <span data-ttu-id="db299-287">코드에서 이 바인딩을 식별하기 위해 사용하는 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-287">The name used to identify this binding in your code.</span></span>      |
|<span data-ttu-id="db299-288">데이터베이스 이름</span><span class="sxs-lookup"><span data-stu-id="db299-288">Database name</span></span>     |  [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)]       | <span data-ttu-id="db299-289">데이터를 읽을 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-289">The database where data will be read.</span></span> <span data-ttu-id="db299-290">이 단원의 앞부분에서 설정한 데이터베이스 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-290">This is the database name we set earlier in this lesson.</span></span>        |
|<span data-ttu-id="db299-291">컬렉션 이름</span><span class="sxs-lookup"><span data-stu-id="db299-291">Collection Name</span></span>     |  [!INCLUDE [cosmos-db-name](./cosmos-coll-name.md)]        | <span data-ttu-id="db299-292">데이터를 읽어오는 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-292">The collection from which we'll read data.</span></span> <span data-ttu-id="db299-293">이 설정은 이 단원의 앞부분에서 정의되었습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-293">This setting was defined earlier in the lesson.</span></span> |
|<span data-ttu-id="db299-294">SQL 쿼리(선택 사항)</span><span class="sxs-lookup"><span data-stu-id="db299-294">SQL Query (optional)</span></span>    |   <span data-ttu-id="db299-295">비워 둠</span><span class="sxs-lookup"><span data-stu-id="db299-295">leave blank</span></span>       |   <span data-ttu-id="db299-296">ID를 기준으로 한 번에 한 문서만 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-296">We are only retrieving one document at a time based on the ID.</span></span> <span data-ttu-id="db299-297">따라서 이 인스턴스에서 SQL 쿼리를 사용하는 것보다 문서 ID 필드를 통해 필터링하는 게 낫습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-297">So, filtering with the Document ID field is a better than using a SQL Query in this instance.</span></span> <span data-ttu-id="db299-298">한 항목(`SELECT * from b where b.ID = {id}`)을 반환하는 SQL 쿼리를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-298">We could craft a SQL Query to return one entry (`SELECT * from b where b.ID = {id}`).</span></span> <span data-ttu-id="db299-299">이 쿼리는 실제로 문서를 반환하지만 문서 컬렉션 안에서 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-299">That query would indeed return a document, but it would return it in a document collection.</span></span> <span data-ttu-id="db299-300">코드가 불필요하게 컬렉션을 조작해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-300">Our code would have to manipulate a collection unnecessarily.</span></span> <span data-ttu-id="db299-301">여러 문서를 가져오려면 SQL 쿼리 방법을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-301">Use the SQL Query approach when you want to get multiple documents.</span></span>   |
|<span data-ttu-id="db299-302">파티션 키(선택 사항)</span><span class="sxs-lookup"><span data-stu-id="db299-302">Partition key (optional)</span></span>     |   <span data-ttu-id="db299-303">비워 둠</span><span class="sxs-lookup"><span data-stu-id="db299-303">leave blank</span></span>      |  <span data-ttu-id="db299-304">여기서 기본 값을 적용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-304">We can accept the default here.</span></span>       |

9. <span data-ttu-id="db299-305">**저장**을 클릭하여 이 바인딩 구성에 대한 모든 변경 내용을 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-305">Click **Save** to save all changes to this binding configuration.</span></span> <span data-ttu-id="db299-306">이제 바인딩을 정의했으므로 함수를 사용할 시점입니다.</span><span class="sxs-lookup"><span data-stu-id="db299-306">Now that we have our binding defined, it's time to use it in our function.</span></span>

## <a name="update-function-implementation"></a><span data-ttu-id="db299-307">업데이트 함수 구현</span><span class="sxs-lookup"><span data-stu-id="db299-307">Update function implementation</span></span>

1. <span data-ttu-id="db299-308">[!INCLUDE [func-name-find](./func-name-find.md)] 함수를 클릭하여 코드 편집기에서 *index.js*를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="db299-308">Click on our function, [!INCLUDE [func-name-find](./func-name-find.md)], to open up *index.js* in the code editor.</span></span> <span data-ttu-id="db299-309">데이터베이스에서 읽기 위한 입력 바인딩을 추가했으므로 이 바인딩을 사용하도록 논리를 업데이트하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-309">We've added an input binding to read from our database, so let's update the logic to use this binding.</span></span>

2. <span data-ttu-id="db299-310">index.js의 모든 코드를 다음 코드 조각의 코드로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="db299-310">Replace all code in index.js with the code from the following snippet.</span></span>

[!code-javascript[](../code/find-bookmark-single.js)]

<span data-ttu-id="db299-311">HTTP 요청에서 이 함수를 트리거하면 `id` 쿼리 매개 변수가 Cosmos DB 입력 바인딩에 전달됩니다.</span><span class="sxs-lookup"><span data-stu-id="db299-311">When an HTTP request causes our function to trigger, the `id` query parameter is passed to our Cosmos DB input binding.</span></span> <span data-ttu-id="db299-312">이 ID와 일치하는 문서를 찾은 경우 `bookmark` 매개 변수가 이 항목으로 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="db299-312">If it found a document that matches this ID, then the `bookmark` parameter will be set to it.</span></span> <span data-ttu-id="db299-313">이 경우 책갈피 문서에 있는 URL 값을 포함하는 응답을 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-313">In that case, we construct a response that contains the URL value found in the bookmark document.</span></span> <span data-ttu-id="db299-314">이 키에 일치하는 문서가 없으면 이 상황을 사용자에게 알리는 페이로드와 상태 코드로 답합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-314">If no document was found matching this key, we respond with a payload and status code that tells the user the bad news.</span></span>

## <a name="try-it-out"></a><span data-ttu-id="db299-315">사용해 보기</span><span class="sxs-lookup"><span data-stu-id="db299-315">Try it out</span></span>

1. <span data-ttu-id="db299-316">평소와 같이 오른쪽 맨 위에서 **</> 함수 URL 가져오기**를 클릭하고, **기본값(함수 키)** 을 선택한 다음, **복사**를 클릭하여 함수의 URL을 복사합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-316">As usual, click **</> Get function URL** at the top right, select **default (Function key)**, and then click **Copy** to copy the function's URL.</span></span>

2. <span data-ttu-id="db299-317">복사한 함수 URL을 브라우저의 주소 표시줄에 붙여넣습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-317">Paste the function URL you copied into your browser's address bar.</span></span> <span data-ttu-id="db299-318">이 URL의 끝에 `&id=docs` 쿼리 문자열 값을 추가하고, 키보드에서 `Enter` 키를 눌러 요청을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-318">Add the query string value `&id=docs` to the end of this URL and press the `Enter` key on your keyboard to execute the request.</span></span> <span data-ttu-id="db299-319">모든 작업이 잘 진행되면 해당 리소스에 대한 URL이 포함된 응답이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="db299-319">All going well, you should see a response that includes a URL to that resource.</span></span>

3. <span data-ttu-id="db299-320">`&id=docs`를 `&id=missing`으로 바꾸고 답을 관찰합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-320">Replace `&id=docs` with `&id=missing` and observe the response.</span></span>

4. <span data-ttu-id="db299-321">이전 쿼리 문자열을 `&id=`로 바꾸고 답을 관찰합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-321">Replace the previous query string with `&id=` and observe the response.</span></span>

>[!TIP]
><span data-ttu-id="db299-322">함수 포털 UI의 **테스트** 탭을 사용해서 함수를 테스트할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-322">You can also test the function using the **Test** tab in the function portal UI.</span></span> <span data-ttu-id="db299-323">쿼리 매개 변수를 추가하거나 요청 본만 제공해도 앞의 단계에서 설명한 것과 같은 결과를 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-323">You can add a query parameter or just supply a request body to get the same results as described in te preceding steps.</span></span>

<span data-ttu-id="db299-324">이 단위에서는 Azure Cosmos DB 데이터베이스에서 읽어오기 위해 수동으로 첫 번째 입력 바인딩을 만들었습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-324">In this unit, we created our first input binding  manually to read from an Azure Cosmos DB database.</span></span> <span data-ttu-id="db299-325">데이터베이스에서 검색하고 데이터를 읽기 위해 작성한 코드 크기가 바인딩 덕분에 최소로 줄었습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-325">The amount of code we wrote to search our database and read data was minimal, thanks to bindings.</span></span> <span data-ttu-id="db299-326">바인딩 구성 작업은 대부분 선언적으로 이루어지며 플랫폼이 나머지를 처리합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-326">We did most of our work configuring the binding declaratively and the platform took care of the rest.</span></span>  

<span data-ttu-id="db299-327">다음 단위에서는 Azure Cosmos DB 출력 바인딩을 통해 책갈피 컬렉션에 다른 데이터를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="db299-327">In the next unit, we'll add more data to our bookmark collection through an Azure Cosmos DB output binding.</span></span>

> [!TIP]
> <span data-ttu-id="db299-328">이 단위는 Azure Cosmos DB의 자습서 역할을 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-328">This unit is not intended to be a tutorial on Azure Cosmos DB.</span></span> <span data-ttu-id="db299-329">본격적으로 활용하려면 다음 몇 가지 리소스를 통해 시작할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db299-329">If you would like to dive deeper, here are a few resources to get you started:</span></span>
>
>* [<span data-ttu-id="db299-330">Azure Cosmos DB 소개: SQL API</span><span class="sxs-lookup"><span data-stu-id="db299-330">Introduction to Azure Cosmos DB: SQL API</span></span>](https://docs.microsoft.com/azure/cosmos-db/sql-api-introduction)
>
>* [<span data-ttu-id="db299-331">Azure Cosmos DB의 기술적 개요</span><span class="sxs-lookup"><span data-stu-id="db299-331">A technical overview of Azure Cosmos DB</span></span>](https://azure.microsoft.com/blog/a-technical-overview-of-azure-cosmos-db/)
>
>* [<span data-ttu-id="db299-332">Azure Cosmos DB 설명서</span><span class="sxs-lookup"><span data-stu-id="db299-332">Azure Cosmos DB documentation</span></span>](https://docs.microsoft.com/azure/cosmos-db/)