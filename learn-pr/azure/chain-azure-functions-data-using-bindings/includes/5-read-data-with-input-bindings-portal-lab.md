<span data-ttu-id="e7ba7-101">간단한 책갈피 조회 서비스를 만들려고 한다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-101">Imagine that you want to create a simple bookmark lookup service.</span></span> <span data-ttu-id="e7ba7-102">서비스는 기본적으로 읽기 전용입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-102">Your service is read-only initially.</span></span> <span data-ttu-id="e7ba7-103">사용자가 항목을 찾으려는 경우 항목의 ID를 통해 요청을 보내고 URL을 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-103">If users want to find an entry, they send a request with the ID of the entry and you return the URL.</span></span> <span data-ttu-id="e7ba7-104">다음 순서도는 이 흐름을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-104">The following flowchart explains the flow:</span></span>

![Cosmos DB 백 엔드에서 책갈피를 찾는 프로세스를 보여 주는 흐름 다이어그램입니다.](../media/5-find-bookmark-flow-small.png)

<span data-ttu-id="e7ba7-109">사용자가 어떤 텍스트를 통해 요청을 보내면 백 엔드 데이터베이스에서 이 텍스트가 키나 ID로 포함된 항목을 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-109">When users send you a request with some text, you try to find an entry in your back-end database that contains this text as a key or ID.</span></span> <span data-ttu-id="e7ba7-110">항목을 찾았는지 여부를 표시하는 결과를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-110">You return a result that indicates whether you found the entry.</span></span>

<span data-ttu-id="e7ba7-111">특정 위치에 데이터를 저장해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-111">You need to store the data somewhere.</span></span> <span data-ttu-id="e7ba7-112">이 순서도에서 데이터 저장소는 Azure Cosmos DB 인스턴스입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-112">In this flowchart, the data store is an Azure Cosmos DB instance.</span></span> <span data-ttu-id="e7ba7-113">하지만 어떻게 함수에서 해당 데이터베이스에 연결하고 데이터를 읽나요?</span><span class="sxs-lookup"><span data-stu-id="e7ba7-113">But how do you connect to a database from a function and read data?</span></span> <span data-ttu-id="e7ba7-114">함수 부분에서는 해당 작업을 위해 *입력 바인딩*을 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-114">In the world of functions, you configure an *input binding* for that job.</span></span>  <span data-ttu-id="e7ba7-115">Azure Portal을 통해 간단하게 바인딩을 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-115">Configuring a binding through the Azure portal is straightforward.</span></span> <span data-ttu-id="e7ba7-116">앞으로 살펴보겠지만 저장소 연결 열기 같은 작업에 코드를 작성할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-116">As you'll see shortly, you don't have to write code for such tasks as opening a storage connection.</span></span> <span data-ttu-id="e7ba7-117">Azure Functions 런타임 및 바인딩이 이러한 작업을 담당합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-117">The Azure Functions runtime and bindings take care of those tasks for you.</span></span>

## <a name="create-an-azure-cosmos-db-account"></a><span data-ttu-id="e7ba7-118">Azure Cosmos DB 계정 만들기</span><span class="sxs-lookup"><span data-stu-id="e7ba7-118">Create an Azure Cosmos DB account</span></span>

> [!NOTE]
> <span data-ttu-id="e7ba7-119">이 단원은 Azure Cosmos DB의 자습서로 사용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-119">This unit is not intended to be a tutorial on Azure Cosmos DB.</span></span> <span data-ttu-id="e7ba7-120">이 모듈을 완료한 후 더 배우고자 한다면 Cosmos DB에 관한 전체 학습 경로가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-120">There is a complete learning path on Cosmos DB if you are interested in learning more after finishing this module.</span></span>

### <a name="create-a-database-account"></a><span data-ttu-id="e7ba7-121">데이터베이스 계정 만들기</span><span class="sxs-lookup"><span data-stu-id="e7ba7-121">Create a database account</span></span>

<span data-ttu-id="e7ba7-122">데이터베이스 계정은 하나 이상의 데이터베이스를 관리하기 위한 컨테이너입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-122">A database account is a container for managing one or more databases.</span></span> <span data-ttu-id="e7ba7-123">데이터베이스를 만들려면 먼저 데이터베이스 계정을 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-123">Before we can create a database, we need to create a database account.</span></span>

1. <span data-ttu-id="e7ba7-124">샌드박스를 활성화한 동일한 계정을 사용하여 [Azure Portal](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true)에 로그인했는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-124">Make sure you are signed into the [Azure portal](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true) using the same account you activated the sandbox with.</span></span>

1. <span data-ttu-id="e7ba7-125">Azure Portal의 왼쪽 위 모서리에서 **리소스 만들기** 단추를 선택한 다음, **데이터베이스** > **Azure Cosmos DB**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-125">Select the **Create a resource** button found on the upper left-hand corner of the Azure portal, then select **Databases** > **Azure Cosmos DB**.</span></span>

1. <span data-ttu-id="e7ba7-126">**새 계정** 페이지에서 새 Azure Cosmos DB 계정에 대한 설정을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-126">In the **New account** page, enter the settings for the new Azure Cosmos DB account.</span></span>

    | <span data-ttu-id="e7ba7-127">설정</span><span class="sxs-lookup"><span data-stu-id="e7ba7-127">Setting</span></span> | <span data-ttu-id="e7ba7-128">값</span><span class="sxs-lookup"><span data-stu-id="e7ba7-128">Value</span></span> | <span data-ttu-id="e7ba7-129">설명</span><span class="sxs-lookup"><span data-stu-id="e7ba7-129">Description</span></span> |
    |---------|-------|-------------|
    | <span data-ttu-id="e7ba7-130">ID</span><span class="sxs-lookup"><span data-stu-id="e7ba7-130">ID</span></span> |<span data-ttu-id="e7ba7-131">*고유한 이름 입력*</span><span class="sxs-lookup"><span data-stu-id="e7ba7-131">*Enter a unique name*</span></span>|<span data-ttu-id="e7ba7-132">이 Azure Cosmos DB 계정을 식별하는 고유한 이름을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-132">Enter a unique name to identify this Azure Cosmos DB account.</span></span> <span data-ttu-id="e7ba7-133">URI를 만들기 위해 제공하는 ID에 `documents.azure.com`이 추가되므로 식별할 수 있는 고유한 ID를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-133">Because `documents.azure.com` is appended to the ID that you provide to create your URI, use a unique but identifiable ID.</span></span><br><br><span data-ttu-id="e7ba7-134">ID는 소문자, 숫자 및 하이픈(-) 문자만 포함할 수 있으며, 3-50자로 돼 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-134">The ID can contain only lowercase letters, numbers, and the hyphen (-) character, and it must contain 3 to 50 characters.</span></span> |
    | <span data-ttu-id="e7ba7-135">API</span><span class="sxs-lookup"><span data-stu-id="e7ba7-135">API</span></span> |<span data-ttu-id="e7ba7-136">SQL</span><span class="sxs-lookup"><span data-stu-id="e7ba7-136">SQL</span></span>|<span data-ttu-id="e7ba7-137">API는 만들 계정의 형식을 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-137">The API determines the type of account to create.</span></span> <span data-ttu-id="e7ba7-138">Azure Cosmos DB는 응용 프로그램의 요구 사항을 충족하기 위해 SQL(문서 데이터베이스), Gremlin(그래프 데이터베이스), MongoDB(문서 데이터베이스), Azure Table 및 Cassandra라는 다섯 가지 API를 제공합니다. 각 API에는 현재 별도의 계정이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-138">Azure Cosmos DB provides five APIs to suit the needs of your application: SQL (document database), Gremlin (graph database), MongoDB (document database), Azure Table, and Cassandra, each of which currently require a separate account.</span></span> <br><br><span data-ttu-id="e7ba7-139">**SQL**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-139">Select **SQL**.</span></span> <span data-ttu-id="e7ba7-140">이때 Azure Cosmos DB 트리거, 입력 바인딩 및 출력 바인딩은 SQL API 및 Graph API 계정에서만 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-140">At this time, the Azure Cosmos DB trigger, input bindings, and output bindings only work with SQL API and Graph API accounts.</span></span> |
    | <span data-ttu-id="e7ba7-141">구독</span><span class="sxs-lookup"><span data-stu-id="e7ba7-141">Subscription</span></span> | <span data-ttu-id="e7ba7-142">컨시어지 구독</span><span class="sxs-lookup"><span data-stu-id="e7ba7-142">Concierge subscription</span></span> | <span data-ttu-id="e7ba7-143">이 Azure Cosmos DB 계정에 사용하려는 Azure 구독을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-143">Select Azure subscription that you want to use for this Azure Cosmos DB account.</span></span> |
    <span data-ttu-id="e7ba7-144">리소스 그룹</span><span class="sxs-lookup"><span data-stu-id="e7ba7-144">Resource Group</span></span>|<span data-ttu-id="e7ba7-145">기존 항목 사용</span><span class="sxs-lookup"><span data-stu-id="e7ba7-145">Use existing</span></span><br><br><span data-ttu-id="e7ba7-146">그런 다음, **<rgn>[샌드박스 리소스 그룹 이름]</rgn>** 을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-146">Then select **<rgn>[sandbox resource group name]</rgn>**.</span></span> | <span data-ttu-id="e7ba7-147">이 모듈을 위해 만든 모든 리소스를 무료 샌드박스 리소스 그룹으로 그룹화하기 때문에 **기존 항목 사용**을 선택하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-147">We're selecting **Use existing**, because we want to group all resources created for this module under the free sandbox resource group.</span></span> |
    | <span data-ttu-id="e7ba7-148">위치</span><span class="sxs-lookup"><span data-stu-id="e7ba7-148">Location</span></span> | <span data-ttu-id="e7ba7-149">**기존 항목 사용**을 설정한 후에 자동으로 채워집니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-149">Auto-filled once **Use existing** is set.</span></span> | <span data-ttu-id="e7ba7-150">Azure Cosmos DB 계정을 호스트할 지리적 위치를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-150">Select the geographic location in which to host your Azure Cosmos DB account.</span></span> <span data-ttu-id="e7ba7-151">데이터에 가장 빨리 액세스할 수 있도록 사용자와 가장 가까운 위치를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-151">Use the location that's closest to your users to give them the fastest access to the data.</span></span> <span data-ttu-id="e7ba7-152">이 실습에서는 위치가 기존 리소스 그룹에 대해 설정된 위치로 미리 결정되었습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-152">In this lab, the location is pre-determined for us as the location set for the existing resource group.</span></span>|

    <span data-ttu-id="e7ba7-153">**새 계정** 블레이드의 모든 다른 필드는 이 모듈에서 사용하므로 기본값 상태로 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-153">Leave all other fields in the **New account** blade at their default values because we're using them in this module.</span></span>  <span data-ttu-id="e7ba7-154">여기에는 **지리적 중복 사용**, **다중 마스터 사용**, **가상 네트워크**가 해당합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-154">That includes **Enable geo-redundancy**, **Enable Multi Master**, **Virtual networks**.</span></span>

1. <span data-ttu-id="e7ba7-155">**만들기**를 선택하여 데이터베이스 계정을 프로비전하고 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-155">Select **Create** to provision and deploy the database account.</span></span>

1. <span data-ttu-id="e7ba7-156">배포에 다소 시간이 걸릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-156">Deployment can take some time.</span></span> <span data-ttu-id="e7ba7-157">따라서 알림 허브에 **배포 성공** 메시지가 표시되기를 기다렸다가 진행합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-157">So, wait for a **Deployment succeeded** message in the Notification Hub before proceeding.</span></span>

    ![데이터베이스 계정 배포가 완료되었다는 알림](../media/5-db-deploy-success.PNG)

1. <span data-ttu-id="e7ba7-159">**리소스로 이동**을 선택하여 포털에서 데이터베이스 계정으로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-159">Select **Go to resource** to navigate to the database account in the portal.</span></span> <span data-ttu-id="e7ba7-160">그런 다음, 컬렉션을 데이터베이스에 추가하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-160">We'll add a collection to the database next.</span></span>

### <a name="add-a-collection"></a><span data-ttu-id="e7ba7-161">컬렉션 추가</span><span class="sxs-lookup"><span data-stu-id="e7ba7-161">Add a collection</span></span>

<span data-ttu-id="e7ba7-162">Cosmos DB에서는 *컨테이너*가 임의의 사용자가 생성한 엔터티를 보유합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-162">In Cosmos DB, a *container* holds arbitrary user-generated entities.</span></span> <span data-ttu-id="e7ba7-163">SQL 및 MongoDB API 계정의 경우 컨테이너는 *컬렉션*에 매핑됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-163">For SQL and MongoDB API accounts, a container maps to a *collection*.</span></span> <span data-ttu-id="e7ba7-164">컬렉션 내부에 문서를 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-164">Inside a collection, we store documents.</span></span>

<span data-ttu-id="e7ba7-165">이제 Azure Portal에서 데이터 탐색기 도구를 사용하여 데이터베이스 및 컬렉션을 만들어 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-165">Let's use the Data Explorer tool in the Azure portal to create a database and collection.</span></span>

1. <span data-ttu-id="e7ba7-166">**데이터 탐색기** > **새 컬렉션**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-166">Select **Data Explorer** > **New Collection**.</span></span>

2. <span data-ttu-id="e7ba7-167">**컬렉션 추가**에서 새 컬렉션에 대한 설정을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-167">Under **Add collection**, enter the settings for the new collection.</span></span>

    >[!TIP]
    ><span data-ttu-id="e7ba7-168">**컬렉션 추가** 영역이 맨 오른쪽에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-168">The **Add Collection** area is displayed on the far right.</span></span> <span data-ttu-id="e7ba7-169">이 영역을 보려면 오른쪽으로 스크롤해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-169">You may need to scroll right to see it.</span></span>

    |<span data-ttu-id="e7ba7-170">설정</span><span class="sxs-lookup"><span data-stu-id="e7ba7-170">Setting</span></span>|<span data-ttu-id="e7ba7-171">제안 값</span><span class="sxs-lookup"><span data-stu-id="e7ba7-171">Suggested value</span></span>|<span data-ttu-id="e7ba7-172">설명</span><span class="sxs-lookup"><span data-stu-id="e7ba7-172">Description</span></span>
    |---|---|---|
    |<span data-ttu-id="e7ba7-173">데이터베이스 ID</span><span class="sxs-lookup"><span data-stu-id="e7ba7-173">Database ID</span></span>|[!INCLUDE [cosmos-db-name](./cosmos-db-name.md)]| <span data-ttu-id="e7ba7-174">데이터베이스 이름은 1-255자여야 하며, /, \\, #,? 또는 후행 공백은 포함할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-174">Database names must contain from 1 through 255 characters, and they cannot contain /, \\, #, ?, or a trailing space.</span></span><br><br><span data-ttu-id="e7ba7-175">여기에 원하는 대로 입력할 수 있으나 새 데이터베이스 이름은 [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)]를 추천합니다. 이것을 이 단위에서 참조할 것입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-175">You are free to enter whatever you want here, but we suggest [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] as the name for the new database, and that's what we'll refer to in this unit.</span></span> |
    |<span data-ttu-id="e7ba7-176">컬렉션 ID</span><span class="sxs-lookup"><span data-stu-id="e7ba7-176">Collection ID</span></span>|[!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)]|<span data-ttu-id="e7ba7-177">새 컬렉션의 이름으로 [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)]를 입력입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-177">Enter [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] as the name for our new collection.</span></span> <span data-ttu-id="e7ba7-178">컬렉션 ID에는 데이터베이스 이름과 동일한 문자 요구 사항이 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-178">Collection IDs have the same character requirements as database names.</span></span>|
    |<span data-ttu-id="e7ba7-179">Storage 용량</span><span class="sxs-lookup"><span data-stu-id="e7ba7-179">Storage capacity</span></span>| <span data-ttu-id="e7ba7-180">고정(10GB)</span><span class="sxs-lookup"><span data-stu-id="e7ba7-180">Fixed (10 GB)</span></span>|<span data-ttu-id="e7ba7-181">기본값인 **고정(10GB)** 을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-181">Use the default value of **Fixed (10 GB)**.</span></span> <span data-ttu-id="e7ba7-182">이 값은 데이터베이스의 저장소 용량입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-182">This value is the storage capacity of the database.</span></span>|
    |<span data-ttu-id="e7ba7-183">처리량</span><span class="sxs-lookup"><span data-stu-id="e7ba7-183">Throughput</span></span>|<span data-ttu-id="e7ba7-184">1000RU</span><span class="sxs-lookup"><span data-stu-id="e7ba7-184">1000 RU</span></span>|<span data-ttu-id="e7ba7-185">처리량을 1000RU/s(초당 요청 단위)로 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-185">Change the throughput to 1000 request units per second (RU/s).</span></span> <span data-ttu-id="e7ba7-186">처리량을 400RU/s로 설정하려면 저장소 용량을 **고정(10GB)** 으로 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-186">Storage capacity must be set to **Fixed (10 GB)** to set throughput to 400 RU/s.</span></span> <span data-ttu-id="e7ba7-187">대기 시간을 줄이면 나중에 성능을 확장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-187">If you want to reduce latency, you can scale up the performance later.</span></span>|

3. <span data-ttu-id="e7ba7-188">**확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-188">Click **OK**.</span></span> <span data-ttu-id="e7ba7-189">데이터 탐색기는 새 데이터베이스 및 컬렉션을 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-189">The Data Explorer displays the new database and collection.</span></span> <span data-ttu-id="e7ba7-190">이제 데이터베이스가 생겼습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-190">So, now we have a database.</span></span> <span data-ttu-id="e7ba7-191">데이터베이스 내부에서 컬렉션을 정의 했습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-191">Inside the database, we've defined a collection.</span></span> <span data-ttu-id="e7ba7-192">이제 문서라고도 하는 일부 데이터를 추가해 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-192">Next, we'll add some data, also known as documents.</span></span>

### <a name="add-test-data"></a><span data-ttu-id="e7ba7-193">테스트 데이터 추가</span><span class="sxs-lookup"><span data-stu-id="e7ba7-193">Add test data</span></span>

<span data-ttu-id="e7ba7-194">[!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)]라는 데이터베이스에서 컬렉션을 정의했습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-194">We've defined a collection in our database called [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)].</span></span> <span data-ttu-id="e7ba7-195">웹 페이지 책갈피 목록처럼 각 문서에 URL과 ID를 저장하고자 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-195">We want to store a URL and ID in each document, like a list of web page bookmarks.</span></span>

<span data-ttu-id="e7ba7-196">데이터 탐색기를 사용하여 새 컬렉션에 데이터를 추가할 것입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-196">You'll add data to your new collection using Data Explorer.</span></span>

1. <span data-ttu-id="e7ba7-197">데이터 탐색기에서 새 데이터베이스가 컬렉션 창에 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-197">In Data Explorer, the new database appears in the Collections pane.</span></span> <span data-ttu-id="e7ba7-198">[!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] 데이터베이스를 확장하고 [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] 컬렉션을 확장하고 **문서**를 선택한 다음, **새 문서**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-198">Expand the [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] database, expand the [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] collection, select **Documents**, and then select **New Document**.</span></span>

2. <span data-ttu-id="e7ba7-199">새 문서의 기본 콘텐츠를 다음 JSON으로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-199">Replace the default content of the new document with the following JSON.</span></span>

     ```json
     {
         "id": "docs",
         "URL": "https://docs.microsoft.com/azure"
     }
     ```

3. <span data-ttu-id="e7ba7-200">**문서** 탭에 JSON을 추가한 후 **저장**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-200">After you've added the JSON to the **Documents** tab, select **Save**.</span></span>

    <span data-ttu-id="e7ba7-201">추가한 것보다 더 많은 속성이 있음을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-201">Notice that there are more properties than the ones we added.</span></span> <span data-ttu-id="e7ba7-202">이들은 모두 밑줄(_rid, _self, _etag, _attachments, _ts)로 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-202">They all begin with an underline (_rid, _self, _etag, _attachments, _ts).</span></span> <span data-ttu-id="e7ba7-203">이러한 속성은 문서 관리를 지원하기 위해 시스템에서 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-203">These are properties generated by the system to help manage the document.</span></span>

    |<span data-ttu-id="e7ba7-204">속성</span><span class="sxs-lookup"><span data-stu-id="e7ba7-204">Property</span></span>  |<span data-ttu-id="e7ba7-205">설명</span><span class="sxs-lookup"><span data-stu-id="e7ba7-205">Description</span></span>  |
    |---------|---------|
    | `_rid`     |     <span data-ttu-id="e7ba7-206">리소스 ID는 고유 식별자로서 리소스 모델의 리소스 스택에 따라 계층적입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-206">The resource ID is a unique identifier that is also hierarchical per the resource stack on the resource model.</span></span> <span data-ttu-id="e7ba7-207">문서 리소스의 배치와 탐색을 위해 내부적으로 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-207">It is used internally for placement and navigation of the document resource.</span></span>    |
    | `_self`     |   <span data-ttu-id="e7ba7-208">리소스에 대한 고유의 주소 지정 가능 URI입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-208">The unique addressable URI for the resource.</span></span>      |
    | `_etag`     |   <span data-ttu-id="e7ba7-209">낙관적 동시성 제어에 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-209">Required for optimistic concurrency control.</span></span>     |
    | `_attachments`     |  <span data-ttu-id="e7ba7-210">첨부 파일 리소스에 대한 주소 지정 가능 경로입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-210">The addressable path for the attachments resource.</span></span>       |
    | `_ts`     |    <span data-ttu-id="e7ba7-211">이 리소스의 마지막 업데이트 타임 스탬프입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-211">The time stamp of the last update of this resource.</span></span>    |

4. <span data-ttu-id="e7ba7-212">컬렉션에 몇 가지 문서를 더 추가해 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-212">Let's add a few more documents into the collection.</span></span> <span data-ttu-id="e7ba7-213">다음과 같은 콘텐츠로 4개 문서를 더 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-213">Create four more documents with the following content.</span></span> <span data-ttu-id="e7ba7-214">작업을 저장해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-214">Remember to save your work.</span></span>

    ```json
    {
        "id": "portal",
        "URL": "https://portal.azure.com"
    }
    ```

    ```json
    {
        "id": "learn",
        "URL": "https://docs.microsoft.com/learn"
    }
    ```

    ```json
    {
        "id": "marketplace",
        "URL": "https://azuremarketplace.microsoft.com/marketplace/apps"
    }
    ```

    ```json
    {
        "id": "blog",
        "URL": "https://azure.microsoft.com/blog"
    }
    ```

1. <span data-ttu-id="e7ba7-215">완료한 후 컬렉션이 다음과 유사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-215">When you've finished, your collection should look like the following:</span></span>

    ![책갈피 컬렉션에 추가한 항목의 목록을 표시하는 포털의 SQL API UI](../media/5-db-bookmark-coll.PNG)

<span data-ttu-id="e7ba7-217">이제 책갈피 컬렉션에 몇 개 항목이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-217">You now have a few entries in your bookmark collection.</span></span> <span data-ttu-id="e7ba7-218">이 시나리오는 다음과 같이 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-218">Our scenario will work as follows.</span></span> <span data-ttu-id="e7ba7-219">예를 들어"id=docs"와 함께 요청이 도착하면 책갈피 컬렉션에서 해당 ID를 조회하고 `https://docs.microsoft.com/azure` URL을 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-219">If a request arrives with, for example, "id=docs", you'll look up that ID in your bookmarks collection and return the URL `https://docs.microsoft.com/azure`.</span></span> <span data-ttu-id="e7ba7-220">이 컬렉션의 값을 조회하는 Azure 함수를 만들어 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-220">Let's make an Azure function that looks up values in this collection.</span></span>

## <a name="create-your-function"></a><span data-ttu-id="e7ba7-221">함수 만들기</span><span class="sxs-lookup"><span data-stu-id="e7ba7-221">Create your function</span></span>

1. <span data-ttu-id="e7ba7-222">앞 단원에서 만든 함수 앱으로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-222">Navigate to the function app that you created in the preceding unit.</span></span>

1. <span data-ttu-id="e7ba7-223">함수 앱을 확장하여 함수 컬렉션 위를 마우스로 가리킨 다음, **Functions** 옆에 있는 **추가**(**+**) 단추를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-223">Expand your function app, hover over the functions collection, and then select the **Add** (**+**) button next to **Functions**.</span></span>
   <span data-ttu-id="e7ba7-224">이 작업은 함수 만들기 프로세스를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-224">This action starts the function creation process.</span></span> <span data-ttu-id="e7ba7-225">다음 애니메이션에서는 다음과 같은 동작을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-225">The following animation illustrates the action:</span></span>

   ![사용자가 함수 메뉴 항목을 마우스로 가리키면 표시되는 더하기 기호의 애니메이션](../media/3-func-app-plus-hover-small.gif)

   <span data-ttu-id="e7ba7-227">페이지에는 지원되는 트리거의 전체 집합이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-227">The page displays the complete set of supported triggers.</span></span>

1. <span data-ttu-id="e7ba7-228">다음 스크린샷의 첫 번째 항목인 **HTTP 트리거**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-228">Select **HTTP trigger**, which is the first entry in the following screenshot:</span></span>

    ![이미지의 왼쪽 위에 HTTP 트리거가 먼저 표시된 트리거 템플릿 선택 UI 일부의 스크린샷입니다.](../media/5-trigger-templates-small.png)

1. <span data-ttu-id="e7ba7-230">다음 값을 사용하여 오른쪽에 표시되는 **새 함수** 대화 상자를 작성합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-230">Fill out the **New Function** dialog that appears to the right using the following values.</span></span>

    | <span data-ttu-id="e7ba7-231">필드</span><span class="sxs-lookup"><span data-stu-id="e7ba7-231">Field</span></span> | <span data-ttu-id="e7ba7-232">값</span><span class="sxs-lookup"><span data-stu-id="e7ba7-232">Value</span></span> |
    |----------|--------|
    | <span data-ttu-id="e7ba7-233">언어</span><span class="sxs-lookup"><span data-stu-id="e7ba7-233">Language</span></span> | <span data-ttu-id="e7ba7-234">**JavaScript**</span><span class="sxs-lookup"><span data-stu-id="e7ba7-234">**JavaScript**</span></span> |
    | <span data-ttu-id="e7ba7-235">이름</span><span class="sxs-lookup"><span data-stu-id="e7ba7-235">Name</span></span>     | [!INCLUDE [func-name-find](./func-name-find.md)] |
    | <span data-ttu-id="e7ba7-236">권한 부여 수준</span><span class="sxs-lookup"><span data-stu-id="e7ba7-236">Authorization level</span></span> | <span data-ttu-id="e7ba7-237">**Function**</span><span class="sxs-lookup"><span data-stu-id="e7ba7-237">**Function**</span></span> |

1. <span data-ttu-id="e7ba7-238">**만들기**를 선택하여 사용자의 함수를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-238">Select **Create** to create your function.</span></span>
    <span data-ttu-id="e7ba7-239">이 작업은 코드 편집기에서 *index.js* 파일을 열고 HTTP 트리거 함수의 기본 구현을 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-239">This action opens the *index.js* file in the code editor and displays a default implementation of the HTTP-triggered function.</span></span>

### <a name="verify-the-function"></a><span data-ttu-id="e7ba7-240">함수 확인</span><span class="sxs-lookup"><span data-stu-id="e7ba7-240">Verify the function</span></span>

<span data-ttu-id="e7ba7-241">다음과 같이 새 함수를 테스트하여 지금까지 수행한 것을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-241">You can verify what we have done so far by testing our new function as follows:</span></span>

1. <span data-ttu-id="e7ba7-242">새 함수에서 오른쪽 맨 위에 있는 **함수 URL 가져오기**를 클릭하고 **기본값(함수 키)** 를 선택한 다음, **복사**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-242">In your new function, click **Get function URL** at the top right, select **default (Function key)**, and then click **Copy**.</span></span>

1. <span data-ttu-id="e7ba7-243">복사한 함수 URL을 브라우저의 주소 표시줄에 붙여넣습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-243">Paste the function URL you copied into your browser's address bar.</span></span> <span data-ttu-id="e7ba7-244">이 URL의 끝에 `&name=<yourname>` 쿼리 문자열 값을 추가하고, **Enter** 키를 눌러 요청을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-244">Add the query string value `&name=<yourname>` to the end of the URL and press **Enter** to execute the request.</span></span> <span data-ttu-id="e7ba7-245">브라우저의 Azure Function에서 제대로 응답을 받아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-245">You should get a response from the Azure Function right in the browser.</span></span>

<span data-ttu-id="e7ba7-246">이제 핵심 함수가 작동하므로 Azure Cosmos DB에서 데이터 읽기 또는 이 시나리오에서는 [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] 컬렉션을 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-246">Now that we have our bare-bones function working, let's turn our attention to reading data from our Azure Cosmos DB, or in our scenario, our [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] collection.</span></span>

## <a name="add-an-azure-cosmos-db-input-binding"></a><span data-ttu-id="e7ba7-247">Azure Cosmos DB 입력 바인딩 추가</span><span class="sxs-lookup"><span data-stu-id="e7ba7-247">Add an Azure Cosmos DB input binding</span></span>

<span data-ttu-id="e7ba7-248">데이터베이스에서 데이터를 읽으려면 입력 바인딩을 정의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-248">To read data from the database, you need to define an input binding.</span></span> <span data-ttu-id="e7ba7-249">이제 살펴볼 것처럼 간단히 몇 단계로 데이터베이스와 통신할 수 있는 바인딩을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-249">As you'll see, you can configure a binding that can talk to your database in just a few steps.</span></span>

1. <span data-ttu-id="e7ba7-250">왼쪽 창에서 **통합**을 선택하여 통합 탭을 엽니다. HTTP 트리거와 HTTP 출력 바인딩을 만드는 데 사용한 템플릿입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-250">Select **Integrate** in the left pane to open the integration tab. The template you used created an HTTP trigger and an HTTP output binding.</span></span> <span data-ttu-id="e7ba7-251">이제 새 Azure Cosmos DB 입력 바인딩을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-251">Now add your new Azure Cosmos DB input binding.</span></span>

2. <span data-ttu-id="e7ba7-252">**입력** 열에서 **새 입력**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-252">Select **New Input** in the **Inputs** column.</span></span>
   <span data-ttu-id="e7ba7-253">가능한 모든 입력 바인딩 형식 목록이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-253">A list of all possible input binding types is displayed.</span></span>

3. <span data-ttu-id="e7ba7-254">목록에서 **Azure Cosmos DB**를 선택한 후, **선택**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-254">In the list, select **Azure Cosmos DB**, and then select **Select**.</span></span>
   <span data-ttu-id="e7ba7-255">그러면 Azure Cosmos DB 입력 구성 페이지가 열립니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-255">This action opens the Azure Cosmos DB input configuration page.</span></span> <span data-ttu-id="e7ba7-256">다음으로, 데이터베이스에 연결을 설정하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-256">Next, you'll set up a connection to your database.</span></span>

4. <span data-ttu-id="e7ba7-257">**Azure Cosmos DB 계정 연결** 상자 옆에 있는 **새로 만들기**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-257">Next to the **Azure Cosmos DB account connection** box, select **new**.</span></span>
   <span data-ttu-id="e7ba7-258">그러면 이미 **Azure Cosmos DB 계정**과 Azure 구독이 선택되어 있는 **연결** 창이 열립니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-258">This action opens the **Connection** window, which already has **Azure Cosmos DB account** and your Azure subscription selected.</span></span> <span data-ttu-id="e7ba7-259">마지막으로 데이터베이스 계정 ID를 선택하기만 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-259">The only thing left to do is to select a database account ID.</span></span>

5. <span data-ttu-id="e7ba7-260">“데이터베이스 계정 만들기” 섹션에서 ID 값을 제공해야 했습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-260">In the "Create a database account" section, you had to supply an ID value.</span></span> <span data-ttu-id="e7ba7-261">**데이터베이스 계정** 드롭다운 목록에서 해당 값을 찾은 다음, **선택**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-261">Find that value in the **Database Account** drop-down list, and then click **Select**.</span></span>

6. <span data-ttu-id="e7ba7-262">데이터베이스에 대한 새 연결이 구성되고 **Azure Cosmos DB 계정 연결** 필드에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-262">A new connection to the database is configured and is shown in the **Azure Cosmos DB account connection** field.</span></span> <span data-ttu-id="e7ba7-263">실제로 이 추상 이름 뒤에 무엇이 있는지 궁금하면 *값 표시*를 클릭하여 연결 문자열을 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-263">If you're curious about what is actually behind this abstract name, click *show value* to reveal the connection string.</span></span>

<span data-ttu-id="e7ba7-264">특정 ID로 책갈피를 조회하려 하므로 받은 ID를 바인딩에 연결하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-264">You want to look up a bookmark with a specific ID, so let's tie the ID we receive to the binding.</span></span>

7. <span data-ttu-id="e7ba7-265">**문서 ID(선택 사항)** 필드에 `{id}`를 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-265">In the **Document ID (optional)** field, enter `{id}`.</span></span> <span data-ttu-id="e7ba7-266">이 구문을 *바인딩 식*이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-266">This syntax is known as a *binding expression*.</span></span> <span data-ttu-id="e7ba7-267">함수는 조회할 ID를 지정하기 위해 쿼리 문자열을 사용하는 HTTP 요청에 의해 트리거됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-267">The function is triggered by an HTTP request that uses a query string to specify the ID to look up.</span></span> <span data-ttu-id="e7ba7-268">ID는 컬렉션에서 고유하므로 바인딩은 0(없음) 또는 1(있음) 문서를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-268">Since IDs are unique in our collection, the binding will return either 0 (not found) or 1 (found) documents.</span></span>

8. <span data-ttu-id="e7ba7-269">다음 표의 값을 사용하여 이 페이지의 나머지 필드를 조심스럽게 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-269">Carefully fill out the remaining fields on this page using the values in the following table.</span></span> <span data-ttu-id="e7ba7-270">언제든 각 필드 이름 오른쪽의 정보 아이콘을 클릭하여 각 필드의 용도를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-270">At any time, you can click on the information icon to the right of each field name to learn more about the purpose of each field.</span></span>

    |<span data-ttu-id="e7ba7-271">설정</span><span class="sxs-lookup"><span data-stu-id="e7ba7-271">Setting</span></span>  |<span data-ttu-id="e7ba7-272">값</span><span class="sxs-lookup"><span data-stu-id="e7ba7-272">Value</span></span>  |<span data-ttu-id="e7ba7-273">설명</span><span class="sxs-lookup"><span data-stu-id="e7ba7-273">Description</span></span>  |
    |---------|---------|---------|
    |<span data-ttu-id="e7ba7-274">문서 매개 변수 이름</span><span class="sxs-lookup"><span data-stu-id="e7ba7-274">Document parameter name</span></span>     |  <span data-ttu-id="e7ba7-275">**책갈피**</span><span class="sxs-lookup"><span data-stu-id="e7ba7-275">**bookmark**</span></span>       |  <span data-ttu-id="e7ba7-276">코드에서 이 바인딩을 식별하기 위해 사용하는 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-276">The name used to identify this binding in your code.</span></span>      |
    |<span data-ttu-id="e7ba7-277">데이터베이스 이름</span><span class="sxs-lookup"><span data-stu-id="e7ba7-277">Database name</span></span>     |  [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)]       | <span data-ttu-id="e7ba7-278">작업할 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-278">The database to work with.</span></span> <span data-ttu-id="e7ba7-279">이 값은 이 단원의 앞부분에서 설정한 데이터베이스 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-279">This value is the database name we set earlier in this lesson.</span></span>        |
    |<span data-ttu-id="e7ba7-280">컬렉션 이름</span><span class="sxs-lookup"><span data-stu-id="e7ba7-280">Collection Name</span></span>     |  [!INCLUDE [cosmos-db-name](./cosmos-coll-name.md)]        | <span data-ttu-id="e7ba7-281">데이터를 읽어오는 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-281">The collection from which we'll read data.</span></span> <span data-ttu-id="e7ba7-282">이 설정은 이 단원의 앞부분에서 정의되었습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-282">This setting was defined earlier in the lesson.</span></span> |
    |<span data-ttu-id="e7ba7-283">SQL 쿼리(선택 사항)</span><span class="sxs-lookup"><span data-stu-id="e7ba7-283">SQL Query (optional)</span></span>    |   <span data-ttu-id="e7ba7-284">비워 둠</span><span class="sxs-lookup"><span data-stu-id="e7ba7-284">leave blank</span></span>       |   <span data-ttu-id="e7ba7-285">ID를 기준으로 한 번에 한 문서만 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-285">We are only retrieving one document at a time based on the ID.</span></span> <span data-ttu-id="e7ba7-286">따라서 이 인스턴스에서 SQL 쿼리를 사용하는 것보다 문서 ID 필드를 통해 필터링하는 게 낫습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-286">So, filtering with the Document ID field is a better than using a SQL Query in this instance.</span></span> <span data-ttu-id="e7ba7-287">한 항목(`SELECT * from b where b.ID = {id}`)을 반환하는 SQL 쿼리를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-287">We could craft a SQL Query to return one entry (`SELECT * from b where b.ID = {id}`).</span></span> <span data-ttu-id="e7ba7-288">이 쿼리는 실제로 문서를 반환하지만 문서 컬렉션 안에서 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-288">That query would indeed return a document, but it would return it in a document collection.</span></span> <span data-ttu-id="e7ba7-289">코드가 불필요하게 컬렉션을 조작해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-289">Our code would have to manipulate a collection unnecessarily.</span></span> <span data-ttu-id="e7ba7-290">여러 문서를 가져오려면 SQL 쿼리 방법을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-290">Use the SQL Query approach when you want to get multiple documents.</span></span>   |
    |<span data-ttu-id="e7ba7-291">파티션 키(선택 사항)</span><span class="sxs-lookup"><span data-stu-id="e7ba7-291">Partition key (optional)</span></span>     |   <span data-ttu-id="e7ba7-292">비워 둠</span><span class="sxs-lookup"><span data-stu-id="e7ba7-292">leave blank</span></span>      |  <span data-ttu-id="e7ba7-293">여기서 기본 값을 적용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-293">We can accept the default here.</span></span>       |

9. <span data-ttu-id="e7ba7-294">**저장**을 선택하여 이 바인딩 구성에 대한 모든 변경 내용을 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-294">Select **Save** to save all changes to this binding configuration.</span></span>

<span data-ttu-id="e7ba7-295">이제 바인딩을 정의했으므로 함수에서 바인딩을 사용할 시점입니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-295">Now that you have your binding defined, it's time to use it in your function.</span></span>

## <a name="update-function-implementation"></a><span data-ttu-id="e7ba7-296">업데이트 함수 구현</span><span class="sxs-lookup"><span data-stu-id="e7ba7-296">Update function implementation</span></span>

1. <span data-ttu-id="e7ba7-297">[!INCLUDE [func-name-find](./func-name-find.md)] 함수를 선택하여 코드 편집기에서 *index.js*를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-297">Select your function, [!INCLUDE [func-name-find](./func-name-find.md)], to open *index.js* in the code editor.</span></span> <span data-ttu-id="e7ba7-298">데이터베이스에서 읽기 위한 입력 바인딩을 추가했으므로 이 바인딩을 사용하도록 논리를 업데이트합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-298">You've added an input binding to read from your database, so update the logic to use this binding.</span></span>

2. <span data-ttu-id="e7ba7-299">*index.js*의 모든 코드를 다음 코드 조각의 코드로 바꾸고 **저장**을 누릅니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-299">Replace all code in *index.js* with the code from the following snippet and hit **Save**.</span></span>

   [!code-javascript[](../code/find-bookmark-single.js)]

<span data-ttu-id="e7ba7-300">들어오는 HTTP 요청은 함수를 트리거하고 `id` 쿼리 매개 변수는 Cosmos DB 입력 바인딩으로 전달됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-300">An incoming HTTP request triggers the function, and an `id` query parameter is passed to the Cosmos DB input binding.</span></span> <span data-ttu-id="e7ba7-301">데이터베이스가 이 ID와 일치하는 문서를 찾은 경우 `bookmark` 매개 변수가 찾은 문서로 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-301">If the database finds a document that matches this ID, then the `bookmark` parameter will be set to the located document.</span></span> <span data-ttu-id="e7ba7-302">이 경우 책갈피가 지정된 문서에 있는 URL 값을 포함하는 응답을 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-302">In that case, we construct a response that contains the URL value found in the bookmarked document.</span></span> <span data-ttu-id="e7ba7-303">이 키와 일치하는 문서가 없으면 이 상황을 사용자에게 알리는 페이로드와 상태 코드로 응답합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-303">If no document is found matching this key, we would respond with a payload and status code that tells the user the bad news.</span></span>

## <a name="try-it-out"></a><span data-ttu-id="e7ba7-304">사용해 보기</span><span class="sxs-lookup"><span data-stu-id="e7ba7-304">Try it out</span></span>

1. <span data-ttu-id="e7ba7-305">오른쪽 맨 위에서 **함수 URL 가져오기**를 선택하고 **기본값(함수 키)** 을 선택한 다음, **복사**를 선택하여 함수의 URL을 복사합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-305">Select **Get function URL** at the top right, select **default (Function key)**, and then select **Copy** to copy the function's URL.</span></span>

2. <span data-ttu-id="e7ba7-306">복사한 함수 URL을 브라우저의 주소 표시줄에 붙여넣습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-306">Paste the function URL you copied into your browser's address bar.</span></span> <span data-ttu-id="e7ba7-307">이 URL의 끝에 `&id=docs` 쿼리 문자열 값을 추가하고, 키보드에서 `Enter` 키를 눌러 요청을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-307">Add the query string value `&id=docs` to the end of this URL and press the `Enter` key on your keyboard to execute the request.</span></span> <span data-ttu-id="e7ba7-308">해당 리소스에 대한 URL이 포함된 응답이 표시돼야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-308">You should see a response that includes a URL to that resource.</span></span>

3. <span data-ttu-id="e7ba7-309">`&id=docs`를 `&id=missing`으로 바꾸고 응답을 관찰합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-309">Replace `&id=docs` with `&id=missing`, and observe the response.</span></span>

4. <span data-ttu-id="e7ba7-310">이전 쿼리 문자열을 `&id=`로 바꾸고 응답을 관찰합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-310">Replace the previous query string with `&id=`, and observe the response.</span></span>

    >[!TIP]
    ><span data-ttu-id="e7ba7-311">함수 포털 UI의 **테스트** 탭을 사용해서 함수를 테스트할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-311">You can also test the function using the **Test** tab in the function portal UI.</span></span> <span data-ttu-id="e7ba7-312">쿼리 매개 변수를 추가하거나 요청 본문을 제공하여 이전 단계에서 설명한 것과 같은 결과를 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-312">You can add a query parameter or supply a request body to get the same results as described in the preceding steps.</span></span>

<span data-ttu-id="e7ba7-313">이 단원에서는 Azure Cosmos DB 데이터베이스에서 읽기 위해 수동으로 첫 번째 입력 바인딩을 만들었습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-313">In this unit, we created our first input binding manually to read from an Azure Cosmos DB database.</span></span> <span data-ttu-id="e7ba7-314">데이터베이스에서 검색하고 데이터를 읽기 위해 작성한 코드 크기가 바인딩 덕분에 최소화되었습니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-314">The amount of code we wrote to search our database and read data was minimal, thanks to bindings.</span></span> <span data-ttu-id="e7ba7-315">바인딩 구성 작업은 대부분 선언적으로 이루어지며 플랫폼이 나머지를 처리합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-315">We did most of our work configuring the binding declaratively, and the platform took care of the rest.</span></span>

<span data-ttu-id="e7ba7-316">다음 단원에서는 Azure Cosmos DB 출력 바인딩을 통해 책갈피 컬렉션에 더 많은 데이터를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="e7ba7-316">In the next unit, we'll add more data to our bookmark collection through an Azure Cosmos DB output binding.</span></span>