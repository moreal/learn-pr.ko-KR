지금까지 사용 가능한 Azure Compute Services를 소개했으며, 이제 각 서비스를 자세히 살펴보고 언제 어떤 서비스를 사용해야 하는지를 알아보겠습니다.

## <a name="azure-virtual-machines"></a>Azure 가상 머신

:::row:::
  :::column:::
    ![Azure 가상 머신을 나타내는 이미지](../media/3-azure-vms.png)
  :::column-end:::
  :::column span="3"::: 운영 체제 및 환경을 완벽하게 제어해야 하는 경우 가상 머신을 선택하는 것이 좋습니다. 물리적 컴퓨터처럼 VM에서 실행되는 모든 소프트웨어를 사용자 지정할 수 있습니다. VM은 특히 사용자 지정 소프트웨어 또는 사용자 지정 호스팅 구성을 실행하는 경우에 이상적입니다.
  :::column-end:::
:::row-end:::

VM은 물리적 서버에서 클라우드로 이동하는 경우에도 좋은 선택이 됩니다. 대개, 물리적 서버의 이미지를 만들고 가상 머신 내에서 호스트할 수 있습니다. 이렇게 하면 운영 체제와 응용 프로그램 실행 환경을 자유롭게 선택할 수 있으므로 선택한 도구를 사용하는 거의 모든 언어로 개발할 수 있습니다.

그러나 가상 머신을 유지 관리해야 합니다. 이는 운영 체제와 운영 체제에서 실행하는 소프트웨어를 업데이트해야 함을 의미합니다. 

또한 크기를 조정할 때 추가로 고려할 사항이 있습니다. 가상 머신을 확장할 수 있으므로 계산 및 메모리 리소스를 더 추가할 수 있습니다. 그러나 여러 인스턴스를 병렬로 실행하거나 확장해야 하는 경우 부하 분산 장치와 같은 기타 서비스를 추가할 수도 있습니다.

따라서 과학자가 처리되어야 하는 천문학 이미지를 업로드할 수 있도록 하는 웹 사이트를 실행한다고 가정합니다. VM을 복제한 경우 웹 사이트 VM의 여러 인스턴스 간에 요청을 라우팅하는 추가 서비스가 필요합니다.

Azure에서 사용할 수 있는 고급 가상 머신 서비스도 있습니다.

- 유사하게 구성된 VM에서 동일한 앱 또는 앱 집합의 인스턴스를 일관성 있게 사용할 수 있도록 실행하는 경우 **Virtual Machine Scale Sets** 옵션을 사용합니다. 이 옵션은 응용 프로그램과 함께 로드되는 수천 개의 동일한 VM을 수분 이내에 자동으로 생성하므로 사용자가 대기할 필요가 없습니다. 또한 가상 머신을 미리 프로비전할 필요가 없으므로 언제든지 응용 프로그램에 필요한 계산 리소스만 사용합니다.

- 수십, 수백 또는 수천 개의 VM으로 확장하는 기능과 함께 클라우드 규모의 작업 예약 및 계산 관리가 필요한 경우 **배치** 옵션을 사용합니다. 원시 컴퓨팅 기능이나 슈퍼 컴퓨터 수준의 계산 기능이 필요한 경우도 있습니다. &mdash; Azure에서는 이러한 기능을 제공합니다.

## <a name="azure-containers"></a>Azure 컨테이너

:::row:::
  :::column:::
    ![Azure 컨테이너를 나타내는 이미지](../media/3-azure-containers.png)
  :::column-end:::
  :::column span="3"::: 단일 가상 머신에서 응용 프로그램의 여러 인스턴스를 실행하려는 경우에 컨테이너를 사용하는 것이 좋습니다. 컨테이너 오케스트레이터는 필요에 따라 응용 프로그램 인스턴스를 시작하고, 중지하고, 확장할 수 있습니다.
  :::column-end:::
:::row-end:::

#### <a name="what-are-containers"></a>컨테이너란?

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE2yMhY]

#### <a name="vms-versus-containers"></a>VM 및 컨테이너

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE2yuaq]

그러나 컨테이너는 일반적으로 마이크로 서비스 아키텍처를 사용하여 솔루션을 만드는 데 사용됩니다. 컨테이너는 솔루션을 소규모 조각으로 분리하는 데 사용되며, 마이크로 서비스 아키텍처를 사용하여 솔루션을 만드는 데도 사용되는 경우가 많습니다. 예를 들어 웹 사이트를 프런트 엔드를 호스트하는 컨테이너, 백 엔드를 호스트하는 컨테이너 및 저장소용 컨테이너로 분할할 수 있습니다. 이렇게 하면 앱의 일부를 논리적 섹션으로 구분하여 독립적으로 유지 관리하거나, 확장하거나, 업데이트할 수 있습니다.

#### <a name="what-is-a-microservice"></a>마이크로 서비스란?

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE2yual]

웹 사이트 백 엔드가 용량에 도달했지만 프런트 엔드와 저장소는 부하가 크지 않은 경우를 가정해 보세요. 성능 향상을 위해 별도로 백 엔드의 크기를 조정하거나 다른 저장소 서비스를 사용하도록 결정할 수 있습니다. 또는 응용 프로그램의 나머지 부분에 영향을 주지 않고 저장소 컨테이너를 바꿀 수 있습니다.

팀이 Kubernetes 컨테이너 오케스트레이션을 사용하는 데 익숙한 경우 **AKS(Azure Kubernetes Service)** 옵션을 고려해 보세요. 이 옵션은 Kubernetes 오케스트레이션의 관리, 배포 및 조작을 단순화하고 자동화합니다.

#### <a name="what-is-kubernetes"></a>Kubernetes란?

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE2yEuX]

## <a name="azure-functions"></a>Azure Functions

:::row:::
  :::column:::
    ![Azure Functions를 나타내는 이미지](../media/3-azure-functions.png)
  :::column-end:::
  :::column span="3"::: 기본 플랫폼이나 인프라가 아닌, 서비스를 실행하는 코드에 대해서만 관심이 있는 경우에 Azure Functions를 사용하는 것이 이상적입니다. Azure Functions는 REST 요청, 타이머 또는 다른 Azure 서비스로부터 받은 메시지를 통해 이벤트에 대한 응답으로 작업을 수행해야 하는 경우, 그리고 해당 작업을 수초 이내에 빠르게 완료할 수 있는 경우에 주로 사용됩니다.
  :::column-end:::
:::row-end:::

Azure Functions는 자동으로 크기가 조정되므로 수요가 가변적인 경우에 좋은 선택이며, 함수가 트리거된 경우에만 요금이 부과됩니다. 예를 들어 배달 차량을 모니터하는 데 사용되는 IoT 솔루션으로부터 메시지를 받을 수 있습니다. 이 경우에 업무 시간 중에 더 많은 데이터가 도착할 가능성이 큽니다.

게다가 Azure Functions는 상태 비저장이므로 이벤트에 응답할 때마다 다시 시작되는 것처럼 동작합니다. 들어오는 데이터를 처리하는 데도 이상적입니다. 또한 상태가 필요한 경우 Azure Storage 서비스에 연결할 수 있습니다.
