Azure IoT Central의 장치의 기능과 동작을 정의 하는 장치 템플릿에서 또는 커피 머신이 예제의 응용 프로그램을 사용 하 여 장치를 교환할 수 있는 데이터 지정 됩니다. 장치 템플릿을 만들 때는 템플릿에서 시뮬레이션된 장치가 생성됩니다. 시뮬레이션된 된 장치는 물리적/실제 장치가 연결 되어 전에 응용 프로그램의 동작을 테스트할 수 있도록 원격 분석을 생성 합니다. 

이 단위는 다음 기능 및 동작을 지정 하는 커피 머신 장치 템플릿을 만듭니다.
* **측정**: 장치에서 제공 되는 데이터입니다. 장치 기능에 맞게 여러 측정값을 장치 템플릿에 추가할 수 있습니다.
    * 원격 분석 측정 합니다: 장치 시간이 지남에 따라 수집 하는 숫자 데이터 요소입니다. 연속 스트림으로 표시됩니다. 이 시나리오에서는 원격 분석 측정 air 습도 되며 온도 물. 

    * 측정 상태: 장치 또는 시간의 기간 동안 해당 구성 요소의 상태입니다. 상태 Brewing/Not 조제, Cup 검색/Cup 검색 되지 않으면으로 설정 하면이 시나리오에서는

* **설정**: 설정을 사용 하 여 장치에 응용 프로그램에서 구성 데이터를 보냅니다. 이 시나리오에서는 설정에서 최적의 물 온도 조절 하 고 커피 컴퓨터로 전송 합니다. 보류 중으로 표시 되어 설정이 업데이트 되 면 장치 설정 변경에 응답 했다는 것을 승인 될 때까지 UI에 있습니다.

* **속성**: 장치와 연결 된 장치 메타 데이터입니다. 속성에는 다음과 같은 두 종류가 있습니다.
    * 사용할 *응용 프로그램 속성* 응용 프로그램에서 장치에 대 한 정보를 기록 합니다. 이 시나리오에서는 응용 프로그램 속성을 사용 하 여 커피 머신 이상적인 물 온도 범위를 설정 합니다. 응용 프로그램 속성 응용 프로그램에서 저장 되 고 장치를 동기화 하지 않습니다. 

    * 속성 값을 응용 프로그램에 보내도록 장치를 설정하려면 *장치 속성*을 사용할 수 있습니다. 이러한 속성은 장치에서만 변경할 수 있습니다. 이 시나리오에서는 IoT Central의 장치 보증 만료를 호출 하는 장치 속성을 구성할 수 있습니다. 커피 머신을 IoT Central에 연결 될 때까지 장치 보증 만료 필드가 빈 상태로 유지 됩니다. 연결 되 면 커피 머신을 보증 상태 응용 프로그램에 보냅니다. 

* **명령을**: 명령을 사용 하 여 응용 프로그램에서 장치를 원격으로 관리 합니다. 클라우드에서 장치에 대한 명령을 직접 실행하여 장치를 제어할 수 있습니다. 이 시나리오에서는 유지 관리를 설정 하거나 조제 시작 커피 컴퓨터에서 명령을 실행 합니다. 

## <a name="create-a-device-template-for-the-coffee-maker"></a>커피 메이커용 장치 템플릿 만들기
장치 템플릿을 동작 및 여기서 커피 메이커 또는 장치의 기능을 정의합니다.

1. 홈 페이지로 이동 하 고 선택 **장치 템플릿 만들기**합니다.

1. 입력 *커피 메이커 연결* 사용자 지정 장치 템플릿에 대 한 합니다. 
 
1. **만들기**를 선택합니다. 커피 메이커 동작 및 시스템의 기능을 정의 하는 위치에 대 한 빈 장치 템플릿을 만들었습니다. 

## <a name="define-telemetry-measurement-temperature-and-humidity"></a>원격 분석 측정 온도 및 습도 정의
1.  **연결된 커피 메이커** 장치 템플릿에서 원격 분석을 정의할 **측정값** 페이지가 표시되어 있는지 확인합니다. 

1.  온도 원격 분석 단위를 추가 하려면 **+ 새 측정**합니다. 선택한 **원격 분석** 측정 형식으로 합니다.

1.  장치 템플릿에 대해 정의하는 각 유형의 원격 분석은 다음과 같은 구성 옵션을 포함합니다.
    * 옵션 표시
    * 원격 분석의 세부 정보
    * 시뮬레이션 매개 변수

    온도 및 습도 원격 분석을 구성 하려면 다음 테이블의 정보를 사용 합니다. 선택 하 여 새 측정값을 추가 해야 하는 원격 분석 항목을 만들 때 **+ 새 측정** 테이블의 각 항목에 대 한 합니다.
    
    |표시 이름|필드 이름|단위|최소값|최대값|소수 자릿수|
    |---|---|---|---|---|---|
    |물 온도|waterTemperature|섭씨|86|100|1|
    |공기 습도|airHumidity|%|20|100|0|
   
    원격 분석 표시용 색을 선택할 수도 있습니다. 원격 분석 정의 저장 하려면 선택 **저장할**합니다. 나머지 단위로 측정, 설정, 속성 및 명령에 대 한 자세한 정의 만들면 완료 될 때마다 저장 해야 합니다.  
    
    ![장치 템플릿 만들기](../images/2-device-template-a.png)

    장치 템플릿에서 표에 표시 된 대로 필드 이름을 입력 합니다. 필드 이름에 해당 장치 코드의 속성 이름과 일치 하지 않으면, 응용 프로그램에서 원격 분석을 표시할 수 없습니다. 설정 및 속성 정보를 입력할 때도 동일한 작업을 수행합니다. 

## <a name="define-state-measurement-for-brewingnot-brewing-cup-detectedcup-not-detected"></a>끓이는 중/끓이는 중 아님, 컵이 검색됨/컵이 검색되지 않음에 대해 상태 측정을 정의합니다.
다음 상태를 추가 합니다 **측정** 를 선택 하 여 페이지 **+ 새 측정**합니다. 그런 다음, 측정 유형으로 **상태**를 선택합니다.
    
   |표시 이름|필드 이름|값 1|표시 이름 1|값 2|표시 이름 2|
   |---|---|---|---|---|---|
   |끓이는 중|stateBrewing|true|끓이는 중|false|끓이는 중 아님|
   |컵이 검색됨|stateCupDetected|true|컵이 검색됨|false|컵이 검색되지 않음|


상태에 > 값을 true로 추가 페이지 조제, 합니다. 클릭 하 여 선택적 표시 이름으로 false로 없습니다 조제으로 다른 값을 추가할 **+** 옆에 **값**합니다.

> [!NOTE]
> 원격 분석 및 상태를 정의 하면 장치 화면에서 장치 템플릿에서 생성 된 시뮬레이션 된 데이터를 표시 합니다. 시뮬레이션 된 데이터를 사용 하면 IoT Central에 물리적 장치를 연결 하기 전에 응용 프로그램의 동작을 테스트할 수 있습니다. 

## <a name="use-settings-to-set-the-optimal-temperature-of-the-coffee-machine"></a>설정을 사용하여 커피 머신의 최적 온도 설정
측정값 옆에 있는 탭 설정 페이지로 이동 합니다. **디자인 모드**를 설정합니다. 다음을 추가 합니다 **번호** 설정이 **라이브러리** 에 **설정** 페이지:

|표시 이름|필드 이름|단위|10진수|최소값|최대값|초기 값|
|---|---|---|---|---|---|---|---|
|최적 온도|setTemperature|섭씨|1|86|100|95|

## <a name="use-properties-to-store-warranty-info-and-water-temperature-range"></a>속성을 사용하여 보증 정보 및 물 온도 범위 저장

다음을 추가 합니다 **번호** 속성에는 **속성** 처음 설정 하 여 페이지 **디자인 모드**:

|표시 이름|필드 이름|단위|소수 자릿수|최소값|최대값|초기 값
|---|---|---|---|---|---|---|
|커피 메이커 최소 온도|propertyMinTemperature|섭씨|1|88|92|90|
|커피 메이커 최대 온도|propertyMaxTemperature|섭씨|1|96|99|98| 

**속성** 페이지에서 다음 **장치** 속성을 추가합니다.

   |표시 이름|필드 이름|데이터 형식|
   |---|---|---|
   |장치 보증 만료|propertyWarrantyExpired|숫자|

> [!NOTE]
> 장치(여기서는 커피 머신)에서 장치 속성을 전송합니다. Azure IoT Central에 커피 머신을 연결하고 나면 장치 속성 보증이 응용 프로그램으로 전송되어 장치 보증 만료 필드에 표시됩니다. 

## <a name="use-commands-to-set-maintenance-mode-and-start-brewing"></a>명령을 사용하여 유지 관리 모드 설정 및 끓이기 시작

먼저 **디자인 모드**를 설정하여 **명령** 페이지에서 다음 명령을 추가합니다.

|표시 이름|필드 이름|기본 시간 제한|데이터 형식|
|---|---|---|---|---|---|---|
|유지 관리 모드 설정|cmdSetMaintenance|30|텍스트| 
|끓이기 시작|cmdStartBrewing|30|텍스트|

## <a name="summary"></a>요약

이 단위에 새 장치 유형, 커피 머신을, 장치 템플릿을 사용 하 여 만들었습니다. 장치 템플릿에서 응용 프로그램을 사용 하 여 커피 머신을 교환할 수 있는 데이터를 지정 합니다. 그리고 온도/습도 등의 원격 분석과 커피를 끓이는 중인지 여부 등의 상태도 정의했습니다. 추가 설정, 속성 및 명령을 구성 하 여 동작 및 커피 머신의 기능 정의 했습니다. 

