<span data-ttu-id="aa8d6-101">여기에 나온 전자상거래 시나리오에서 훌륭한 사용자 환경을 구현하려면 가용성이 높고 대기 시간이 짧아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-101">Assuring a great user experience in an e-commerce scenario such as yours requires high availability and low latency.</span></span>

<span data-ttu-id="aa8d6-102">방금 만든 Azure Cosmos DB 계정에 다중 마스터 지원을 활성화하면 성능 측면에서 여러 가지 이점이 있으며, 모든 이점은 Azure Cosmos DB에서 제공하며, 경제적으로 지원되는 SLA(서비스 수준 계약)로 보장됩니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-102">By enabling multi-master support on the Azure Cosmos DB account you just created, there are multiple benefits to both of these performance aspects, and all of the benefits are guaranteed by the financially backed service level agreements (SLAs) provided by Azure Cosmos DB.</span></span>

## <a name="what-is-multi-master-support"></a><span data-ttu-id="aa8d6-103">다중 마스터 지원이란 무엇인가요?</span><span class="sxs-lookup"><span data-stu-id="aa8d6-103">What is multi-master support?</span></span>

<span data-ttu-id="aa8d6-104">다중 마스터 지원이란 새 Azure Cosmos DB 계정에서 사용할 수 있는 옵션입니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-104">Multi-master support is an option that can be enabled on new Azure Cosmos DB accounts.</span></span> <span data-ttu-id="aa8d6-105">계정이 여러 지역에 복제되면 각 지역은 원하는 위치에 쓰기 모델에 동등하게 참여하는 마스터 지역이 되며, 이를 활성-활성 패턴이라고도 합니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-105">Once the account is replicated in multiple regions, each region is a master region that equally participates in a write-anywhere model, also known as an active-active pattern.</span></span>

<span data-ttu-id="aa8d6-106">다중 마스터 구성에서 마스터 영역으로 작동하는 Azure Cosmos DB 영역은 자동으로 모든 복제본에 기록되는 데이터를 수렴하고 글로벌 일관성 및 데이터 무결성을 보장하도록 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-106">Azure Cosmos DB regions operating as master regions in a multi-master configuration automatically work to converge data written to all replicas and ensure global consistency and data integrity.</span></span>

<span data-ttu-id="aa8d6-107">Azure Cosmos DB 다중 마스터 지원을 통해 전 세계에서 쓰기 가능한 지역의 모든 컨테이너에 쓰기를 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-107">With Azure Cosmos DB multi-master support, you can perform writes on any container in a write-enabled region world-wide.</span></span> <span data-ttu-id="aa8d6-108">작성된 데이터는 다른 모든 영역에 즉시 전파됩니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-108">Written data is propagated to all other regions immediately.</span></span>  

## <a name="what-are-the-benefits-of-multi-master-support"></a><span data-ttu-id="aa8d6-109">다중 마스터 지원의 이점은 무엇인가요?</span><span class="sxs-lookup"><span data-stu-id="aa8d6-109">What are the benefits of multi-master support?</span></span>

<span data-ttu-id="aa8d6-110">다중 마스터 지원의 이점은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-110">The benefits of multi-master support are:</span></span>

* <span data-ttu-id="aa8d6-111">쓰기 대기 시간 한 자릿수  – 다중 마스터 계정은 99%의 쓰기 작업에서 대기 시간이 10ms 미만으로 단축되었습니다(비다중 마스터 계정의 대기 시간은 최대 15ms 미만).</span><span class="sxs-lookup"><span data-stu-id="aa8d6-111">Single-digit write latency – Multi-master accounts have an improved write latency of <10 ms for 99% of writes, up from <15 ms for non-multi-master accounts.</span></span>
* <span data-ttu-id="aa8d6-112">읽기-쓰기 가용성 99.999% - 다중 마스터 계정의 쓰기 가용성이 99.999%로 증가했습니다(비다중 마스터 계정의 쓰기 가용성은 최대 99.99%).</span><span class="sxs-lookup"><span data-stu-id="aa8d6-112">99.999% read-write availability - The write availability multi-master accounts increases to 99.999%, up from the 99.99% for non-multi-master accounts.</span></span>
* <span data-ttu-id="aa8d6-113">무제한 쓰기 확장성 및 처리량  – 다중 마스터 계정을 사용하면 모든 지역에 쓸 수 있어 무제한 쓰기 확장성 및 처리량이 지원되고, 수십억 개의 장치가 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-113">Unlimited write scalability and throughput – With multi-master accounts, you can write to every region, providing unlimited write scalability and throughput to support billions of devices.</span></span>
* <span data-ttu-id="aa8d6-114">충돌 해결 기능 기본 제공 – 다중 마스터 계정은 글로벌 데이터 무결성 및 일관성을 보장하기 위해 세 가지 충돌 해결 방법을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-114">Built-in conflict resolution – Multi-master accounts have three methods for resolving conflicts to ensure global data integrity and consistency.</span></span> 

## <a name="conflict-resolution"></a><span data-ttu-id="aa8d6-115">충돌 해결</span><span class="sxs-lookup"><span data-stu-id="aa8d6-115">Conflict resolution</span></span>

<span data-ttu-id="aa8d6-116">다중 마스터 지원을 추가하면 여러 지역에 대한 쓰기가 충돌할 가능성이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-116">With the addition of multi-master support comes the possibility of encountering conflicts for writes to different regions.</span></span> <span data-ttu-id="aa8d6-117">충돌은 Azure Cosmos DB에서 매우 드물게 나타나며, 지역 간에 전파가 발생하기 전에 여러 지역에서 한 항목이 동시에 변경될 경우에만 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-117">Conflicts are extremely rare in Azure Cosmos DB and can only occur when an item is simultaneously changed in multiple regions, before propagation between the regions has happened.</span></span> <span data-ttu-id="aa8d6-118">복제가 전역적으로 수행될 때의 속도로 볼 때, 이러한 상황은 자주 겪지 않는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-118">Given the speed with which replication happens globally, you should not experience this often, if at all.</span></span> <span data-ttu-id="aa8d6-119">그러나 Azure Cosmos DB는 두 개 이상의 지역에서 서로 다른 작성자가 동일한 레코드를 동시에 업데이트하는 경우 사용자가 문제를 해결하는 방법을 결정할 수 있는 충돌 해결 모드를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-119">However, Azure Cosmos DB does provide conflict resolution modes that allows users to decide how to handle scenarios where the same record is updated simultaneously by different writers in two or more regions.</span></span>  

<span data-ttu-id="aa8d6-120">Azure Cosmos DB에서 제공하는 3가지 유형의 충돌 해결 모드가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-120">There are three conflict resolution modes offered by Azure Cosmos DB.</span></span> 
* <span data-ttu-id="aa8d6-121">**마지막 작성자 우선(LWW)**: 문서의 사용자 정의 정수 속성 값에 따라 충돌이 해결됩니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-121">**Last-Writer-Wins (LWW)**, in which conflicts are resolved based on the value of a user-defined integer property in the document.</span></span> <span data-ttu-id="aa8d6-122">기본적으로 _ts는 마지막으로 작성된 문서를 확인하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-122">By default _ts is used to determine the last written document.</span></span> <span data-ttu-id="aa8d6-123">마지막 작성자 우선은 기본 충돌 처리 메커니즘입니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-123">Last-Writer-Wins is the default conflict handling mechanism.</span></span>
* <span data-ttu-id="aa8d6-124">**사용자 지정 - 사용자 정의 프로시저**: 컬렉션에 사용자 정의 프로시저를 등록하여 충돌 해결을 완전히 제어할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-124">**Custom - User Defined Procedure**, in which you can fully control conflict resolution by registering a User Defined Procedure to the collection.</span></span> <span data-ttu-id="aa8d6-125">사용자 정의 프로시저는 매우 구체적인 서명을 사용하는 특수한 유형의 저장 프로시저입니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-125">A User Defined Procedure is a special type of stored procedure with a very specific signature.</span></span> <span data-ttu-id="aa8d6-126">사용자 정의 프로시저가 실패하거나 없는 경우, Azure Cosmos DB는 모든 충돌을 읽기 전용 충돌 피드에 추가하여 비동기적으로 처리될 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-126">If the User Defined Procedure fails or does not exist, Azure Cosmos DB will add all conflicts into the read-only conflicts feed they can be processed asynchronously.</span></span>  
* <span data-ttu-id="aa8d6-127">**사용자 지정 - 비동기**: Azure Cosmos DB가 모든 충돌을 커밋 대상에서 제외하고, 읽기 전용 충돌 피드에 등록하여 사용자의 응용 프로그램에서 나중에 해결하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-127">**Custom - Async**, in which Azure Cosmos DB excludes all conflicts from being committed and registers them in the read-only conflicts feed for deferred resolution by the user’s application.</span></span> <span data-ttu-id="aa8d6-128">응용 프로그램이 충돌 해결을 비동기적으로 수행할 수 있으며, 논리를 사용하거나 외부 소스, 응용 프로그램 또는 서비스를 참조하여 충돌을 해결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-128">The application can perform conflict resolution asynchronously and use any logic or refer to any external source, application or service to resolve the conflict.</span></span>

## <a name="summary"></a><span data-ttu-id="aa8d6-129">요약</span><span class="sxs-lookup"><span data-stu-id="aa8d6-129">Summary</span></span>

<span data-ttu-id="aa8d6-130">이 단원에서는 여러 지역에 데이터를 작성하여 가용성과 성능을 높일 수 있는 다중 마스터 계정에 대해 알아보았습니다.</span><span class="sxs-lookup"><span data-stu-id="aa8d6-130">In this unit, learned about multi-master accounts, which enable you to write data to multiple regions for improved availability and performance.</span></span>