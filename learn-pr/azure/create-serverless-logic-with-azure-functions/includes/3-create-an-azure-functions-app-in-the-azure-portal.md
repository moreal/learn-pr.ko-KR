<span data-ttu-id="d845e-101">이제 온도 서비스 구현을 시작할 준비가 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-101">You are now ready to start implementing the temperature service.</span></span> <span data-ttu-id="d845e-102">이전 단원에서 요구 사항에 서버리스 솔루션이 가장 적절한지 판단했습니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-102">In the previous unit, you determined that a serverless solution would best fit your needs.</span></span> <span data-ttu-id="d845e-103">먼저 Azure 함수를 보관할 함수 앱을 만들어 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-103">Let's start by creating a function app to hold our Azure Function.</span></span>

[!include[](../../../includes/azure-sandbox-activate.md)]

## <a name="what-is-a-function-app"></a><span data-ttu-id="d845e-104">함수 앱이란?</span><span class="sxs-lookup"><span data-stu-id="d845e-104">What is a function app?</span></span>

<span data-ttu-id="d845e-105">함수는 **함수 앱**이라는 실행 컨텍스트에서 호스트됩니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-105">Functions are hosted in an execution context called a **function app**.</span></span> <span data-ttu-id="d845e-106">함수 앱을 정의하여 Azure에서 함수 및 계산 리소스를 논리적으로 그룹화하고 구조화합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-106">You define function apps to logically group and structure your functions and a compute resource in Azure.</span></span> <span data-ttu-id="d845e-107">엘리베이터 예에서, 에스컬레이터 드라이브 기어 온도 서비스를 호스트하는 함수 앱을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-107">In our elevator example, you would create a function app to host the escalator drive gear temperature service.</span></span> <span data-ttu-id="d845e-108">함수 앱을 만들려면 몇 가지 결정해야 할 일이 있습니다. 서비스 계획을 선택하고, 호환되는 저장소 계정을 선택해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-108">There are a few decisions that need to be made to create the function app; you need to choose a service plan and select a compatible storage account.</span></span>

### <a name="choosing-a-service-plan"></a><span data-ttu-id="d845e-109">서비스 계획 선택</span><span class="sxs-lookup"><span data-stu-id="d845e-109">Choosing a service plan</span></span>

<span data-ttu-id="d845e-110">함수 앱은 두 가지 유형의 서비스 계획 중 하나를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-110">Function apps may use one of two types of service plans.</span></span> <span data-ttu-id="d845e-111">첫 번째 서비스 계획은 **소비 서비스 계획**으로,</span><span class="sxs-lookup"><span data-stu-id="d845e-111">The first service plan is the **Consumption service plan**.</span></span> <span data-ttu-id="d845e-112">Azure 서버리스 응용 프로그램 플랫폼을 사용할 때 선택하는 플랜입니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-112">This is the plan that you choose when using the Azure serverless application platform.</span></span> <span data-ttu-id="d845e-113">소비 서비스 계획은 자동 크기 조정을 제공하며 함수를 실행할 때 비용이 청구됩니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-113">The Consumption service plan provides automatic scaling and bills you when your functions are running.</span></span> <span data-ttu-id="d845e-114">소비 플랜에서는 함수 실행에 대해 구성 가능한 제한 시간이 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-114">The Consumption plan comes with a configurable timeout period for the execution of a function.</span></span> <span data-ttu-id="d845e-115">기본적으로 5분이지만 시간 제한을 최대 10분까지 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-115">By default, it is 5 minutes, but may be configured to have a timeout as long as 10 minutes.</span></span>

<span data-ttu-id="d845e-116">두 번째 계획은 **Azure App Service 계획**이라고 하며,</span><span class="sxs-lookup"><span data-stu-id="d845e-116">The second plan is called the **Azure App Service plan**.</span></span> <span data-ttu-id="d845e-117">이 계획을 통해 정의한 VM에서 함수를 계속 실행하여 시간 제한 기간을 방지할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-117">This plan allows you to avoid timeout periods by having your function run continuously on a VM that you define.</span></span> <span data-ttu-id="d845e-118">App Service 계획을 사용하는 경우 함수가 실행되는 앱 리소스를 관리해야 하므로 이는 기술적으로 서버리스 계획이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-118">When using an App Service plan, you are responsible for managing the app resources the function runs on, so this is technically not a serverless plan.</span></span> <span data-ttu-id="d845e-119">그러나 함수가 지속적으로 사용되는 경우 또는 함수에 소비 계획이 제공할 수 있는 것보다 많은 처리 능력 또는 실행 시간이 필요한 경우에는 더 나은 선택일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-119">However, it may be a better choice if your functions are used continuously or if your functions require more processing power or execution time than the Consumption plan can provide.</span></span>

### <a name="storage-account-requirements"></a><span data-ttu-id="d845e-120">저장소 계정 요구 사항</span><span class="sxs-lookup"><span data-stu-id="d845e-120">Storage account requirements</span></span>

<span data-ttu-id="d845e-121">함수 앱을 만들 때 저장소 계정에 연결되어 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-121">When you create a function app, it must be linked to a storage account.</span></span> <span data-ttu-id="d845e-122">기존 계정을 선택하거나 새 계정을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-122">You can select an existing account or create a new one.</span></span> <span data-ttu-id="d845e-123">함수 앱은 함수 실행 로깅 및 실행 트리거 관리 등과 같은 내부 작업을 위해 이 저장소 계정을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-123">The function app uses this storage account for internal operations such as logging function executions and managing execution triggers.</span></span> <span data-ttu-id="d845e-124">소비 서비스 계획의 경우 함수 코드 및 구성 파일이 이 계정에 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-124">On the Consumption service plan, this is also where the function code and configuration file are stored.</span></span>

## <a name="create-a-function-app"></a><span data-ttu-id="d845e-125">함수 앱 만들기</span><span class="sxs-lookup"><span data-stu-id="d845e-125">Create a function app</span></span>

<span data-ttu-id="d845e-126">Azure Portal에서 함수 앱을 만들어 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-126">Let's create a function app in the Azure portal.</span></span>

1. <span data-ttu-id="d845e-127">샌드박스를 활성화한 동일한 계정을 사용하여 [Azure Portal](https://portal.azure.com/triplecrownlabs.onmicrosoft.com?azure-portal=true)에 로그인합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-127">Sign into the [Azure portal](https://portal.azure.com/triplecrownlabs.onmicrosoft.com?azure-portal=true) using the same account you activated the sandbox with.</span></span>

1. <span data-ttu-id="d845e-128">Azure Portal의 왼쪽 위 모서리에서 **리소스 만들기** 단추를 선택한 후 **시작 > 서버리스 함수 앱**을 선택하여 함수 앱 *만들기* 블레이드를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-128">Select the **Create a resource** button found on the upper left-hand corner of the Azure portal, and then select **Get started > Serverless Function App** to open the Function App *Create* blade.</span></span> <span data-ttu-id="d845e-129">또는 **계산 > 함수 앱** 옵션을 사용하여 같은 블레이드를 열 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-129">Alternatively, you can use the **Compute > Function App** option, which will open the same blade.</span></span>

  ![계산 섹션 및 함수 앱이 강조 표시된 리소스 만들기 블레이드를 보여 주는 Azure Portal의 스크린샷입니다.](../media/3-create-function-app-blade.png)

1. <span data-ttu-id="d845e-131">전역으로 고유한 앱 이름을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-131">Choose a globally unique app name.</span></span> <span data-ttu-id="d845e-132">서비스의 기준 URL 역할을 합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-132">This will serve as the base URL of your service.</span></span> <span data-ttu-id="d845e-133">예를 들어 **escalator-functions-xxxxxxx**로 이름을 지정할 수 있습니다. 여기서 xxxxxxx는 이니셜 및 출생 연도로 바꿀 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-133">For example, you can name it **escalator-functions-xxxxxxx**, where the x's can be replaced with your initials and your birth year.</span></span> <span data-ttu-id="d845e-134">이 값이 전역적으로 고유하지 않은 경우 다른 조합을 사용해 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-134">If this isn't globally unique, you can try any other combination.</span></span> <span data-ttu-id="d845e-135">유효한 문자는 a-z, 0-9 및 -입니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-135">Valid characters are a-z, 0-9 and -.</span></span>

1. <span data-ttu-id="d845e-136">함수 앱을 호스트할 Azure 구독을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-136">Select the Azure subscription where you would like the function app hosted.</span></span>

1. <span data-ttu-id="d845e-137">"**<rgn>[샌드박스 리소스 그룹 이름]</rgn>**"이라는 기존 리소스 그룹을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-137">Select the existing resource group called "**<rgn>[Sandbox resource group name]</rgn>**".</span></span>

1. <span data-ttu-id="d845e-138">OS로 **Windows**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-138">Select **Windows** for OS.</span></span>

1. <span data-ttu-id="d845e-139">**호스팅 계획**의 경우 서버리스 호스팅 옵션인 **소비 계획**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-139">For **Hosting Plan**, select **Consumption Plan**, which is the serverless hosting option.</span></span>

1. <span data-ttu-id="d845e-140">아래 목록에서 자신과 가장 가까운 위치를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-140">Select the geographical location closest to you from the list below.</span></span> <span data-ttu-id="d845e-141">프로덕션 시스템에서 고객 또는 함수 고객과 가까운 위치를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-141">In a production system, you would want to select a location near your customers or consumers of the function.</span></span>

    [!include[](../../../includes/azure-sandbox-regions-first-mention-note-friendly.md)]

1. <span data-ttu-id="d845e-142">새 저장소 계정을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-142">Create a new storage account.</span></span> <span data-ttu-id="d845e-143">Azure는 앱 이름을 기반으로 이름을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-143">Azure will give it a name based on the app name.</span></span> <span data-ttu-id="d845e-144">이름은 원하는 경우 변경할 수 있지만 고유해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-144">You can change it if you like, but it must also be unique.</span></span>

1. <span data-ttu-id="d845e-145">Azure Application Insights가 **켜져** 있는지 확인하고 자신(또는 고객)과 가장 가까운 지역을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-145">Make sure that Azure Application Insights is **On** and select the region closest to you (or your customers).</span></span>
  <span data-ttu-id="d845e-146">완료한 후 구성이 다음 스크린샷의 구성과 유사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-146">When you're finished, your configuration should look like the config in the following screenshot.</span></span>

  ![이전 지침에 따라 모든 필드가 구성된 함수 앱 만들기 블레이드를 보여 주는 Azure Portal의 스크린샷입니다.](../media/3-create-function-app-settings.png)

1. <span data-ttu-id="d845e-148">**만들기**를 선택합니다. 배포에 몇 분 정도 걸립니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-148">Select **Create**; deployment will take a few minutes.</span></span> <span data-ttu-id="d845e-149">완료되면 알림이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-149">You'll receive a notification once it's complete.</span></span>

## <a name="verify-your-azure-function-app"></a><span data-ttu-id="d845e-150">Azure 함수 앱 확인</span><span class="sxs-lookup"><span data-stu-id="d845e-150">Verify your Azure function app</span></span>

1. <span data-ttu-id="d845e-151">Azure Portal의 왼쪽 메뉴에서 **리소스 그룹**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-151">From the Azure portal left-hand menu, select **Resource groups**.</span></span> <span data-ttu-id="d845e-152">사용 가능한 그룹 목록에 **<rgn>[샌드박스 리소스 그룹 이름]</rgn>** 이라는 리소스 그룹이 보일 것입니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-152">You should then see a resource group named **<rgn>[Sandbox resource group name]</rgn>** in the list of available groups.</span></span>

  ![리소스 그룹 메뉴 항목 및 <rgn>[샌드박스 리소스 그룹 이름]</rgn> 목록 항목이 강조 표시된 리소스 그룹 블레이드를 보여주는 Azure Portal의 스크린샷입니다.](../media/3-resource-group.png)

1. <span data-ttu-id="d845e-154">**<rgn>[샌드박스 리소스 그룹 이름]</rgn>** 이라는 리소스 그룹을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-154">Select the resource group **<rgn>[Sandbox resource group name]</rgn>**.</span></span> <span data-ttu-id="d845e-155">그러면 다음 목록과 같은 리소스 목록이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-155">You should then see a resource list like the following list.</span></span>

  ![App Service 계획, Storage 계정, Application Insights 리소스 및 App Service에 대한 항목을 포함하여 <rgn>[샌드박스 리소스 그룹 이름]</rgn> 그룹에 있는 모든 리소스를 보여 주는 Azure Portal의 스크린샷입니다.](../media/3-resource-list.png)

<span data-ttu-id="d845e-157">App Service로 나열된 번개 함수 아이콘이 있는 항목은 새로운 함수 앱입니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-157">The item with the lightning bolt Function icon, listed as an App Service, is your new function app.</span></span> <span data-ttu-id="d845e-158">항목을 클릭하면 할당된 공용 URL이 포함된 새 함수에 대한 세부 정보가 열립니다. 브라우저에서 열 경우에는 함수 앱이 실행 중임을 나타내는 기본 웹 페이지가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="d845e-158">You can click on it to open the details about the new function - it has a public URL assigned to it, if you open that in a browser, you should get a default web page that indicates your Function App is running.</span></span>
