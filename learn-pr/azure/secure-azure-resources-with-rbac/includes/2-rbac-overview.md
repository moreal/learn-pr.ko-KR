Azure에서 개발자, 엔지니어링, 마케팅 팀의 리소스 액세스 권한을 관리해야 한다고 가정해 보겠습니다. 액세스 요청이 수신되기 시작했고, Azure의 리소스 액세스 관리 방식을 신속하게 따라가야 합니다.

## <a name="what-is-rbac"></a>RBAC란?

RBAC(역할 기반 액세스 제어)는 Azure 리소스에 대한 액세스를 세밀하게 관리할 수 있는 [Azure Resource Manager](/azure/azure-resource-manager/resource-group-overview) 기반의 권한 부여 시스템입니다. Azure에는 많은 리소스가 있지만 몇 가지만 예를 들면 가상 머신, 웹 사이트, 네트워크, 저장소가 있습니다.

## <a name="what-can-i-do-with-rbac"></a>RBAC로 무엇을 할 수 있나요?

RBAC를 사용하면 본인이 제어하는 Azure 리소스에 대한 액세스 권한을 단일 사용자 또는 사용자 그룹에게 부여할 수 있습니다.

다음은 몇 가지 예입니다.
- 한 사용자는 구독의 가상 머신을 관리하고 다른 사용자는 가상 네트워크를 관리하도록 허용
- 데이터베이스 관리자 그룹이 구독의 SQL 데이터베이스를 관리하도록 허용
- 사용자가 가상 머신, 웹 사이트, 서브넷 등 리소스 그룹의 모든 리소스를 관리하도록 허용
- 응용 프로그램이 리소스 그룹의 모든 리소스에 액세스하도록 허용

## <a name="rbac-in-the-azure-portal"></a>Azure Portal의 RBAC

Azure Portal의 여러 영역에서는 ID 및 액세스 관리라고도 하는 **IAM(액세스 제어)** 이라는 블레이드를 볼 수 있습니다. 이 블레이드에서는 해당 영역에 액세스할 수 있는 사용자와 그 역할을 볼 수 있습니다. 이 블레이드를 사용하여 액세스 권한을 부여하거나 제거할 수 있습니다.

다음은 리소스 그룹의 IAM(액세스 제어) 블레이드를 보여주는 예입니다. 이 예에서는 Alain Charon에게 이 리소스 그룹의 백업 운영자 역할이 할당되었습니다.

![Azure Portal의 IAM(액세스 제어)](../media-draft/2-resource-group-access-control.png)

## <a name="how-does-rbac-work"></a>RBAC는 어떻게 작동 나요?

사용 권한이 적용되는 방식을 제어하는 역할 할당을 만들어 RBAC를 사용하는 리소스에 대한 액세스를 제어할 수 있습니다. 역할 할당을 만들려면 보안 주체, 역할 정의, 범위라는 세 가지 요소가 필요합니다. 이러한 요소는 "누구", "무엇", "어디"로 간주할 수 있습니다.

### <a name="1-security-principal-who"></a>1. 보안 주체(누구)

*보안 주체*는 액세스 권한을 부여할 사용자, 그룹 또는 응용 프로그램을 가리키는 고급스러운 이름입니다.

![보안 주체](../media-draft/2-rbac-security-principal.png)

### <a name="2-role-definition-what-you-can-do"></a>2. 역할 정의(수행할 수 있는 작업)

*역할 정의*는 권한 컬렉션입니다. 역할이라고도 합니다. 역할 정의에는 읽기, 쓰기 및 삭제와 같이 수행할 수 있는 작업이 나열됩니다. 역할은 소유자처럼 대략적일 수도 있고 Virtual Machine 기여자처럼 구체적일 수도 있습니다.

![역할 정의](../media-draft/2-rbac-role-definition.png)

Azure에는 사용 가능한 [기본 제공 역할](/azure/role-based-access-control/built-in-roles)이 여러 개 있습니다. 다음은 네 가지 기본 제공 역할입니다.

- 소유자 - 액세스 권한을 다른 사용자에게 위임할 수 있는 권한을 포함하여 모든 리소스에 대한 전체 액세스 권한을 보유합니다.
- 기여자 - 모든 유형의 Azure 리소스를 만들고 관리할 수 있지만 다른 사용자에게 액세스 권한을 부여할 수 없습니다.
- 읽기 권한자 - 기존 Azure 리소스를 볼 수 있습니다.
- 사용자 액세스 관리자 - Azure 리소스에 대한 사용자 액세스를 관리할 수 있습니다.

기본 제공 역할이 조직의 특정 요구 사항을 충족하지 않는 경우 [사용자 지정 역할](/azure/role-based-access-control/custom-roles)을 만들면 됩니다.

### <a name="3-scope-where"></a>3. 범위(어디)

*범위*는 액세스 권한이 적용되는 대상입니다. 이러한 기능은 누군가를 단일 리소스 그룹에 대해서만 웹 사이트 기여자로 지정하려는 경우에 유용합니다.

Azure는 여러 수준(관리 그룹, 구독, 리소스 그룹 또는 리소스)에서 구독을 지정할 수 있습니다. 범위는 부모-자식 관계로 구조화되어 있습니다. 부모 범위에서 액세스 권한을 부여하는 경우 해당 권한은 자식 범위에 상속됩니다. 예를 들어 구독 범위에서 그룹에 기여자 역할을 할당할 경우 구독의 모든 리소스 그룹 및 리소스에서 해당 역할을 상속합니다.

![범위](../media-draft/2-rbac-scope.png)

### <a name="role-assignment"></a>역할 할당

누구, 무엇, 어디를 결정했으면 이러한 요소를 결합하여 액세스 권한을 부여할 수 있습니다. *역할 할당*은 액세스 권한을 부여하기 위해 특정 범위에서 보안 주체에게 역할을 바인딩하는 프로세스입니다. 액세스 권한을 부여하려면 역할 할당을 만듭니다. 액세스 권한을 철회하려면 역할 할당을 제거합니다.

다음은 마케팅 그룹에서 sales 리소스 그룹 범위에 기여자 역할이 어떻게 할당되었는지 보여주는 예입니다.

![역할 할당](../media-draft/2-rbac-overview.png)

## <a name="rbac-is-allow-only-with-no-deny"></a>RBAC는 거부 없이 허용만 가능합니다.

현재 RBAC는 거부 없이 허용만 있는 모델입니다. 즉, 역할이 할당되면 RBAC를 사용하여 읽기, 쓰기, 삭제와 같은 특정 작업을 수행할 수 있습니다. RBAC는 액세스를 명시적으로 거부하지 않습니다. 따라서 하나의 역할 할당이 리소스 그룹에 대한 읽기 권한을 부여하고, 다른 역할 할당이 동일한 리소스 그룹에 대한 쓰기 권한을 부여할 경우 사용자는 해당 리소스 그룹에 대한 쓰기 권한을 가집니다.

RBAC에는 `NotActions`라는 권한이 있습니다. `NotActions`는 거부 규칙이 아니며, 특정 권한을 제외해야 할 경우 허용되는 권한 집합을 만드는 편리한 방법일 뿐입니다.

## <a name="other-roles-in-azure"></a>Azure의 기타 역할

Azure로 작업할 때 글로벌 관리자, 계정 관리자 등과 같은 기타 역할을 볼 수 있습니다. 이러한 기타 역할의 대다수는 사용자 생성, 암호 재설정, 사용자 라이선스 관리, 도메인 관리와 같은 Azure Active Directory 관리에 사용됩니다. 세부 정보를 보려는 경우에 추가 정보를 볼 수 있지만 RBAC 역할은 Azure 리소스에 대한 액세스를 관리하는 데 사용된다는 사실을 기억해야 합니다.

## <a name="summary"></a>요약

이 단원에서는 RBAC의 작동 원리에 대한 기본 사항을 알아보았습니다. 이제 RBAC의 기본 사항을 익혔으므로 RBAC 사용을 직접 시작해 볼 수 있습니다. 가장 쉬운 시작 방법은 Azure Portal을 사용하는 것입니다. 이 모듈의 나머지 부분에서는 RBAC와 관련된 실습을 수행할 수 있습니다.
