올바른 저장소 솔루션을 선택하면 성능이 향상되고, 비용이 절감되고, 관리 효율성이 향상될 수 있습니다. 여기에서는 온라인 판매 시나리오에서 데이터에 대해 배운 내용을 적용하고, 각 데이터 집합에 가장 적합한 Azure 서비스를 찾아보겠습니다. 

## <a name="product-catalog-data"></a>제품 카탈로그 데이터

**데이터 분류:** 새 제품에 대한 스키마를 확장하거나 수정할 필요로 인해 반구조적입니다.

**작업:**

- 고객에게는 데이터베이스 내에서 여러 필드를 쿼리하는 기능과 함께 읽기 작업이 많이 필요합니다.
- 비즈니스에서 지속적으로 변하는 재고를 추적하려면 쓰기 작업이 많이 필요합니다.

**대기 시간 및 처리량:** 처리량이 높고 대기 시간이 낮아야 합니다.

**트랜잭션 지원:** 필수

### <a name="recommended-service-azure-cosmos-db"></a>권장 서비스: Azure Cosmos DB

Azure Cosmos DB는 디자인별로 반구조적 데이터 또는 NoSQL 데이터를 지원합니다. 따라서 "Bluetooth 사용" 필드와 같은 새로운 필드나 이후에 필요한 모든 새 필드는 Azure Cosmos DB를 통해 지원됩니다.

Azure Cosmos DB는 쿼리에 대한 SQL을 지원하고, 모든 속성이 기본적으로 인덱싱됩니다. 고객이 카탈로그의 모든 속성을 필터링할 수 있도록 쿼리를 만들 수 있습니다.

Azure Cosmos DB는 ACID도 준수하므로 엄격한 해당 요구 사항에 따라 트랜잭션이 완료되었는지 확인할 수 있습니다.

게다가 Azure Cosmos DB를 사용하면 전세계 어디에서든 단추 하나만 클릭하여 데이터를 복제할 수도 있습니다. 따라서 전자상거래 사이트가 미국, 프랑스 및 영국의 사용자에 집중되어 있는 경우 물리적으로 사용자에 더 가깝게 데이터를 이동했으므로 해당 데이터 센터로 데이터를 복제하여 대기 시간을 줄일 수 있습니다. 

전세계에서 복제본 데이터를 사용하더라도 다섯 개 일관성 수준에서 하나를 선택할 수 있습니다. 적절한 일관성 수준을 선택하여 일관성, 가용성, 대기 시간 및 처리량 사이의 장단점을 절충할 수 있습니다. 쇼핑이 최고조에 이른 시간에는 고객의 더 높은 요구를 처리하기 위해 규모를 확장하고, 다소 한가한 시간에는 비용을 절약하기 위해 축소할 수 있습니다.

### <a name="why-not-other-azure-services"></a>다른 Azure 서비스도 사용해 보세요.

Azure SQL Database는 이 데이터 집합에 적합하고, 새 제품에 대한 임시 스키마를 확장할 필요가 없습니다. Azure SQL Database에서 모든 데이터는 스키마를 준수해야 합니다. Azure SQL Database는 Azure Cosmos DB와 동일한 여러 이점을 제공할 수 있지만 다른 유형의 데이터를 처리할 수 없습니다. 

Azure Table Storage, HDInsight의 일부인 Azure HBase, Azure Redis Cache 등의 다른 Azure 서비스도 NoSQL 데이터를 저장할 수 있습니다. 이 시나리오에서는 사용자가 여러 필드를 쿼리하려 하므로 Azure Cosmos DB가 더 적합합니다. Azure Cosmos DB는 기본적으로 모든 필드를 인덱싱하는 반면 다른 서비스는 인덱싱하는 데이터가 제한되고 인덱싱되지 않은 필드를 쿼리하는 성능이 저하됩니다.

## <a name="photos-and-videos"></a>사진 및 비디오

**데이터 분류:** 비구조적

**작업:**

- ID로만 검색해야 합니다.
- 고객에게는 대기 시간이 짧은 많은 수의 읽기 작업이 필요합니다.
- 만들기 및 업데이트는 자주 발생하지 않으므로 읽기 작업보다 대기 시간이 더 길 수 있습니다.

**대기 시간 및 처리량:** ID별 검색에서는 짧은 대기 시간과 높은 처리량을 지원해야 합니다. 만들기 및 업데이트가 읽기 작업보다 대기 시간이 더 길 수 있습니다.

**트랜잭션 지원:** 필요하지 않음

### <a name="recommended-service-azure-blob-storage"></a>권장 서비스: Azure Blob Storage

Azure Blob Storage는 사진 및 비디오와 같은 파일을 저장하도록 지원합니다. 또한 Azure Blob Storage는 가장 자주 사용된 콘텐츠를 캐싱하고 에지 서버에 저장하여 Azure CDN(Content Delivery Network)으로도 작업합니다. Azure CDN는 사용자에게 해당 이미지를 제공하는데 걸리는 대기 시간을 감소시킵니다.

또한 Azure Blob Storage를 사용하여 핫 저장소 계층에서 쿨 또는 보관 저장소 계층으로 이미지를 이동하여 비용을 절감하고 가장 자주 본 이미지 및 비디오에 대한 처리량을 집중할 수 있습니다.

### <a name="why-not-other-azure-services"></a>다른 Azure 서비스도 사용해 보세요.

Azure App Services에 이미지를 업로드할 수 있으므로 앱을 실행 중인 동일한 서버에서 이미지를 제공합니다. 이 솔루션은 파일이 많지 않은 경우 작동합니다. 그러나 파일 및 글로벌 고객이 많은 경우에는 Azure Blob Storage를 Azure CDN와 함께 사용하여 더 우수한 성능 결과를 얻을 수 있습니다.

## <a name="business-data"></a>비즈니스 데이터

**데이터 분류:** 구조적

**작업:** 여러 데이터베이스 사이의 읽기 전용 복합 분석 쿼리

**대기 시간 및 처리량:** 결과의 일부 대기 시간은 쿼리의 복잡한 특성에 따라 예상할 수 있습니다.

**트랜잭션 지원:** 필수

### <a name="recommended-service-azure-sql-database"></a>권장 서비스: Azure SQL Database

비즈니스 데이터는 다른 어떤 쿼리 언어보다도 SQL을 잘 알고 있을 가능성이 큰 비즈니스 분석가가 쿼리할 가능성이 높습니다. Azure SQL Database는 자체로 솔루션으로 사용될 수 있지만, Azure Analysis Services와 페어링하면 데이터 분석가가 SQL Database의 데이터에 대한 의미 체계 모델을 만들 수 있습니다. 그런 다음, 데이터 분석가는 이 모델을 비즈니스 사용자와 공유할 수 있습니다. 따라서 사용자는 BI(비즈니스 인텔리전스) 도구의 모델에 연결하여 즉시 데이터를 탐색하고 인사이트를 얻기만 하면 됩니다. 

### <a name="why-not-other-azure-services"></a>다른 Azure 서비스도 사용해 보세요.

Azure SQL Data Warehouse는 OLAP 솔루션 및 SQL 쿼리를 지원합니다. 그러나 비즈니스 분석가는 SQL Data Warehouse에서 지원하지 않는 데이터베이스 간 쿼리를 수행해야 합니다.

Azure SQL Database 외에도 Azure Analysis Services를 사용할 수 있습니다. 그러나 비즈니스 분석가는 Power BI로 작업하는 것보다 SQL에 훨씬 더 정통하므로 Azure Analysis Services에서 지원하지 않는 SQL 쿼리를 지원하는 데이터베이스를 사용하려고 합니다. 또한 비즈니스 데이터 집합에 저장된 재무 데이터는 본질적으로 관계형 다차원 데이터입니다. Azure Analysis Services는 서비스 자체에 저장된 테이블 형식 데이터는 지원하지만 다차원 데이터는 지원하지 않습니다. Azure Analysis Services를 사용하여 다차원 데이터를 분석하려면 SQL Database에 대해 직접 쿼리를 사용하면 됩니다.

Azure Stream Analytics는 데이터를 분석하고 실행 가능한 인사이트로 변환하는 좋은 방법이지만, 스트리밍되는 실시간 데이터에 초점을 둡니다. 이 시나리오에서 비즈니스 분석가는 기록 데이터만 보게 됩니다.

## <a name="summary"></a>요약

각 데이터 형식마다 저장소 요구 사항이 서로 다르므로 최상의 솔루션을 알아내야 합니다. 항상 데이터 형식, 필요한 작업, 예상 대기 시간 및 트랜잭션 지원에 대한 요구 사항을 고려해야 합니다.